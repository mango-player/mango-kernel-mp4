!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.mangoKernelFlv=t():e.mangoKernelFlv=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,r){"use strict";(function(e){var r,n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){"object"===o(t)&&"object"===o(e)?e.exports=s():(n=[],r=s,void 0!==(i="function"==typeof r?r.apply(t,n):r)&&(e.exports=i))}("undefined"!=typeof self&&self,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,r){!function(e,r){r(t)}(0,function(e){function t(e){return void 0!==e}function r(e){return void 0===e||null===e}function n(e){return Array.isArray(e)}function i(e){return"function"==typeof e}function a(e){return Object(e)===e&&"[object Object]"===String(e)&&!i(e)&&!n(e)}function s(e){return"number"==typeof e}function u(e){return!n(e)&&e-Number.parseFloat(e)+1>=0}function c(e){return Number.isInteger(e)}function f(e){return n(e)?0===e.length:a(e)?0===Object.keys(e).length:!e}function d(e){return e instanceof Event||(e&&e.originalEvent)instanceof Event}function l(e){return e instanceof Blob}function h(e){return l(e)&&m(e.name)}function p(e){return"[object Date]"===Object.prototype.toString.call(e)}function m(e){return"string"==typeof e||e instanceof String}function v(e){return"boolean"==typeof e}function g(e){return!!e&&("object"===(void 0===e?"undefined":O(e))||"function"==typeof e)&&"function"==typeof e.then}function y(e){return r(e)||v(e)||m(e)||s(e)}function _(e){return m(e)&&!!e.match(/^((https?|ftp|rtsp|mms):\/\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6}|localhost)(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/i)}function b(e){return!!("object"===("undefined"==typeof Node?"undefined":O(Node))?e instanceof Node:e&&"object"===(void 0===e?"undefined":O(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}function w(e){return!!("object"===("undefined"==typeof HTMLElement?"undefined":O(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":O(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)}function S(e,t){return!(!b(e)||!b(t))&&t.parentNode===e}function E(e,t){if(!b(e)||!b(t))return!1;for(;t.parentNode;)if((t=t.parentNode)===e)return!0;return!1}function x(e){return/<[^>]+?>/.test(e)}function A(e){return e instanceof Error}function k(e){return e instanceof RegExp}var O="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};!function(){function e(e){this.value=e}function t(t){function r(e,t){return new Promise(function(r,i){var s={key:e,arg:t,resolve:r,reject:i,next:null};a?a=a.next=s:(o=a=s,n(e,t))})}function n(r,o){try{var a=t[r](o),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){n("next",e)},function(e){n("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}o=o.next,o?n(o.key,o.arg):a=null}var o,a;this._invoke=r,"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();e.defined=t,e.isVoid=r,e.isArray=n,e.isFunction=i,e.isObject=a,e.isNumber=s,e.isNumeric=u,e.isInteger=c,e.isEmpty=f,e.isEvent=d,e.isBlob=l,e.isFile=h,e.isDate=p,e.isString=m,e.isBoolean=v,e.isPromise=g,e.isPrimitive=y,e.isUrl=_,e.isNode=b,e.isElement=w,e.isChildNode=S,e.isPosterityNode=E,e.isHTMLString=x,e.isError=A,e.isRegExp=k,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,r){function n(e){return Array.from(e)}function i(e,t){return void 0===t&&(t=function(e,t){return+e-+t}),Object.keys(e).sort(t).reduce(function(t,r){return t.concat(e[r])},[])}function o(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Promise(function(r,n){!function i(o){if(o>=e.length)return void r();var a=(0,g.isFunction)(e[o])?e[o].apply(e,t):e[o];return!1===a?n("stop"):Promise.resolve(a).then(function(){return i(o+1)}).catch(function(e){return n(e||"stop")})}(0)})}function a(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function r(n){return n>=e.length||!1!==((0,g.isFunction)(e[n])?e[n].apply(e,t):e[n])&&r(++n)}(0)}function s(e,t,r){var n=e;if(t+r<n.length){for(;r--;)if(128!=(192&n[++t]))return!1;return!0}return!1}function u(e){for(var t=[],r=e,n=0,i=e.length;n<i;)if(r[n]<128)t.push(String.fromCharCode(r[n])),++n;else{if(r[n]<192);else if(r[n]<224){if(s(r,n,1)){var o=(31&r[n])<<6|63&r[n+1];if(o>=128){t.push(String.fromCharCode(65535&o)),n+=2;continue}}}else if(r[n]<240){if(s(r,n,2)){var o=(15&r[n])<<12|(63&r[n+1])<<6|63&r[n+2];if(o>=2048&&55296!=(63488&o)){t.push(String.fromCharCode(65535&o)),n+=3;continue}}}else if(r[n]<248&&s(r,n,3)){var o=(7&r[n])<<18|(63&r[n+1])<<12|(63&r[n+2])<<6|63&r[n+3];if(o>65536&&o<1114112){o-=65536,t.push(String.fromCharCode(o>>>10|55296)),t.push(String.fromCharCode(1023&o|56320)),n+=4;continue}}t.push(String.fromCharCode(65533)),++n}return t.join("")}function c(e,t,r){var n,i,o,a,s,u=function u(){var c=new Date-a;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(s=e.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,a=new Date;var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s}}function f(e,t,r,n){var i,o,a,s=null,u=0;r||(r={});var c=function(){u=!1===r.leading?0:new Date-0,s=null,a=e.apply(i,o),s||(i=o=null)};return t=t||0,function(){var f=new Date;u||!1!==r.leading||(u=f);var d=t-(f-u);return i=n||this,o=arguments,d<=0||d>t?(s&&(clearTimeout(s),s=null),u=f,a=e.apply(i,o),s||(i=o=null)):s||!1===r.trailing||(s=setTimeout(c,d)),a}}function d(e,t){var r=t;e=""+(e||"");var n=e.length;return t=(t||n)-n,((t>0?e.repeat?"0".repeat(t):new Array(t+1).join("0"):"")+e).slice(0,r)}function l(e){var t=Math.floor(e/3600);e=Math.floor(e%3600);var r=d(Math.floor(e/60),2);e=Math.floor(e%60);var n=d(e,2);return t>=1?t+":"+r+":"+n:r+":"+n}function h(e){var t=document,r=t.querySelector("style");if(!r){r=t.createElement("style");var n=t.querySelector("head");n&&n.appendChild(r)}return r.appendChild(t.createTextNode(e)),r}function p(e,t){void 0===e&&(e=new Date),void 0===t&&(t="yyyy-MM-dd hh:mm:ss.i");var r=e.getFullYear().toString(),n={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),i:e.getMilliseconds()};t=t.replace(/(y+)/gi,function(e,t){return r.substr(4-Math.min(4,t.length))});for(var i in n)!function(e){t=t.replace(new RegExp("("+e+"+)","g"),function(t,r){return(n[e]<10&&r.length>1?"0":"")+n[e]})}(i);return t}function m(e){try{return window.localStorage.getItem(e)}catch(r){try{var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return(0,g.isArray)(t)?unescape(t[2]):""}catch(e){return""}}}function v(e,t){try{window.localStorage.setItem(e,t)}catch(n){var r=new Date;r.setTime(r.getTime()+2592e7);try{document.cookie=e+"="+escape(t)+";expires="+r.toUTCString()+";path=/;"}catch(e){console.error(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.caf=t.raf=t.inBrowser=void 0,t.makeArray=n,t.transObjectAttrIntoArray=i,t.runRejectableQueue=o,t.runStoppableQueue=a,t.decodeUTF8=u,t.debounce=c,t.throttle=f,t.strRepeat=d,t.formatTime=l,t.appendCSS=h,t.formatDate=p,t.getLocalStorage=m,t.setLocalStorage=v;var g=r(0),y=t.inBrowser="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window);t.raf=y&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame)||function(e){return setTimeout(e,17)},t.caf=y&&(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame)||function(e){clearTimeout(e)}},function(e,t,r){function n(e,t){var r=e.__evt_id;r||(Object.defineProperty(e,"__evt_id",{writable:!0,enumerable:!1,configurable:!0}),r=e.__evt_id=++f.count);var n=r+"_"+t,i=f[n];return i||(i=f[n]=[]),i}function i(e,t,r){var i=Object.create(null);i.type=t,i.target=e,r&&Object.assign(i,(0,c.isObject)(r)?r:{data:r}),n(e,t).forEach(function(t){(t[1]||t[0]).apply(e,[i])})}function a(e,t,r,i,o){void 0===i&&(i=!1),(0,c.isFunction)(i)&&!o&&(o=i,i=void 0);var a=[r,void 0,i];i&&!o&&(o=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];s(e,t,r,i),r.apply(e,n)}),o&&(a[1]=o),n(e,t).push(a)}function s(e,t,r,i){void 0===i&&(i=!1);var o=n(e,t);if(r||i){var a,s=-1;return o.find(function(e,t){if((!r||e[0]===r)&&(!i||e[2]))return s=t,a=e[1],!0}),-1!==s&&o.splice(s,1),a}o.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.CustEvent=void 0;var u="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};t.emitEventCache=i,t.addEventCache=a,t.removeEventCache=s;var c=r(0),f=Object.create(null);f.count=0;var d=function(){function e(e,t){var r=this;if(Object.defineProperty(this,"__target",{writable:!0,enumerable:!1,configurable:!0}),this.__target=this,e){if("object"!==(void 0===e?"undefined":u(e)))throw new Error("CusEvent target are not object");this.__target=e,t&&["on","once","off","emit"].forEach(function(t){e[t]=r[t]})}}return e.prototype.on=function(e,t,r){return void 0===r&&(r=!1),a(this.__target,e,t,r),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.off=function(e,t,r){return void 0===r&&(r=!1),s(this.__target,e,t,r),this},e.prototype.emit=function(e,t){return i(this.__target,e,{data:t}),this},e}();t.CustEvent=d},function(e,t,r){e.exports=r(4)},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UAParser=t.Log=void 0;var i=r(5);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=r(0);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=r(1);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var s=r(2);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=r(6);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var c=r(7),f=n(c),d=r(8),l=n(d);t.Log=f.default,t.UAParser=l.default},function(e,t,r){!function(e,r){r(t)}(0,function(e){function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){return void 0===e||null===e}function i(e){return Array.isArray(e)}function a(e){return"function"==typeof e}function s(e){return Object(e)===e&&"[object Object]"===String(e)&&!a(e)&&!i(e)}function u(e){return"number"==typeof e}function c(e){return"string"==typeof e||e instanceof String}function f(e){return"boolean"==typeof e}function d(e){return n(e)||f(e)||c(e)||u(e)}function l(e){function t(n,o,a){if(i(n)||s(n)){o=d(o)?s(n)?{}:[]:o;for(var u in n)r(o,u,t(n[u],o[u],u));return o}return e(n,o,a)}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t,r){e[t]=r};return t}function h(e){if(d(e))throw new TypeError("deepClone only accept non primitive type");return Mr(e)}function p(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<2)throw new Error("deepAssign accept two and more argument");for(var n=t.length-1;n>-1;n--)if(d(t[n]))throw new TypeError("deepAssign only accept non primitive type");var i=t.shift();return t.forEach(function(e){return Mr(e,i)}),i}function m(e,t){return e.replace(/(^|[^a-zA-Z]+)([a-zA-Z])/g,function(e,r,n,i){return t||0!==i?n.toUpperCase():n.toLowerCase()})}function v(e){return m(e).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function g(e,t){return e.bind?e.bind(t):e.apply?function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.apply(t,n)}:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.call.apply(e,[t].concat(tt(n)))}}function y(){return _()+_()+"-"+_()+"-"+_()+"-"+_()+"-"+_()+_()+_()}function _(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function b(e){for(var t="";t.length<e;)t+=_();return t.slice(0,e)}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.throwError,a=void 0!==o&&o,s=r.backup;if(c(t)&&(t=t.split(".")),!i(t))throw new TypeError("keys of getDeepProperty must be string or Array<string>");for(var u=[],f=e,d=0,l=t.length;d<l;d++){var h=t[d];if(n(f)){if(a)throw new Error("obj"+(u.length>0?"."+u.join("."):" itself")+" is "+f);return s}f=f[h],u.push(h)}return f}var S=Math.ceil,E=Math.floor,x=function(e){return isNaN(e=+e)?0:(e>0?E:S)(e)},A=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},k=r(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),O=r(function(e){var t=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=t)}),R=(O.version,function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}),M=function(e,t,r){if(R(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},L=function(e){return"object"===(void 0===e?"undefined":o(e))?null!==e:"function"==typeof e},T=function(e){if(!L(e))throw TypeError(e+" is not an object!");return e},B=function(e){try{return!!e()}catch(e){return!0}},C=!B(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),D=k.document,I=L(D)&&L(D.createElement),P=function(e){return I?D.createElement(e):{}},j=!C&&!B(function(){return 7!=Object.defineProperty(P("div"),"a",{get:function(){return 7}}).a}),U=function(e,t){if(!L(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!L(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!L(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!L(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},N=Object.defineProperty,F=C?Object.defineProperty:function(e,t,r){if(T(e),t=U(t,!0),T(r),j)try{return N(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e},z={f:F},V=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},G=C?function(e,t,r){return z.f(e,t,V(1,r))}:function(e,t,r){return e[t]=r,e},q=function e(t,r,n){var i,o,a,s=t&e.F,u=t&e.G,c=t&e.S,f=t&e.P,d=t&e.B,l=t&e.W,h=u?O:O[r]||(O[r]={}),p=h.prototype,m=u?k:c?k[r]:(k[r]||{}).prototype;u&&(n=r);for(i in n)(o=!s&&m&&void 0!==m[i])&&i in h||(a=o?m[i]:n[i],h[i]=u&&"function"!=typeof m[i]?n[i]:d&&o?M(a,k):l&&m[i]==a?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(a):f&&"function"==typeof a?M(Function.call,a):a,f&&((h.virtual||(h.virtual={}))[i]=a,t&e.R&&p&&!p[i]&&G(p,i,a)))};q.F=1,q.G=2,q.S=4,q.P=8,q.B=16,q.W=32,q.U=64,q.R=128;var H=q,W=G,K={}.hasOwnProperty,X=function(e,t){return K.call(e,t)},$={},Y={}.toString,Z=function(e){return Y.call(e).slice(8,-1)},Q=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==Z(e)?e.split(""):Object(e)},J=function(e){return Q(A(e))},ee=Math.min,te=function(e){return e>0?ee(x(e),9007199254740991):0},re=Math.max,ne=Math.min,ie=function(e,t){return e=x(e),e<0?re(e+t,0):ne(e,t)},oe=k["__core-js_shared__"]||(k["__core-js_shared__"]={}),ae=function(e){return oe[e]||(oe[e]={})},se=0,ue=Math.random(),ce=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++se+ue).toString(36))},fe=ae("keys"),de=function(e){return fe[e]||(fe[e]=ce(e))},le=function(e){return function(t,r,n){var i,o=J(t),a=te(o.length),s=ie(n,a);if(e&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===r)return e||s||0;return!e&&-1}}(!1),he=de("IE_PROTO"),pe=function(e,t){var r,n=J(e),i=0,o=[];for(r in n)r!=he&&X(n,r)&&o.push(r);for(;t.length>i;)X(n,r=t[i++])&&(~le(o,r)||o.push(r));return o},me="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ve=Object.keys||function(e){return pe(e,me)},ge=C?Object.defineProperties:function(e,t){T(e);for(var r,n=ve(t),i=n.length,o=0;i>o;)z.f(e,r=n[o++],t[r]);return e},ye=k.document,_e=ye&&ye.documentElement,be=de("IE_PROTO"),we=function(){},Se=function(){var e,t=P("iframe"),r=me.length;for(t.style.display="none",_e.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),Se=e.F;r--;)delete Se.prototype[me[r]];return Se()},Ee=Object.create||function(e,t){var r;return null!==e?(we.prototype=T(e),r=new we,we.prototype=null,r[be]=e):r=Se(),void 0===t?r:ge(r,t)},xe=r(function(e){var t=ae("wks"),r=k.Symbol,n="function"==typeof r;(e.exports=function(e){return t[e]||(t[e]=n&&r[e]||(n?r:ce)("Symbol."+e))}).store=t}),Ae=z.f,ke=xe("toStringTag"),Oe=function(e,t,r){e&&!X(e=r?e:e.prototype,ke)&&Ae(e,ke,{configurable:!0,value:t})},Re={};G(Re,xe("iterator"),function(){return this});var Me=function(e,t,r){e.prototype=Ee(Re,{next:V(1,r)}),Oe(e,t+" Iterator")},Le=function(e){return Object(A(e))},Te=de("IE_PROTO"),Be=Object.prototype,Ce=Object.getPrototypeOf||function(e){return e=Le(e),X(e,Te)?e[Te]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Be:null},De=xe("iterator"),Ie=!([].keys&&"next"in[].keys()),Pe=function(){return this},je=function(e,t,r,n,i,o,a){Me(r,t,n);var s,u,c,f=function(e){if(!Ie&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},d=t+" Iterator",l="values"==i,h=!1,p=e.prototype,m=p[De]||p["@@iterator"]||i&&p[i],v=m||f(i),g=i?l?f("entries"):v:void 0,y="Array"==t?p.entries||m:m;if(y&&(c=Ce(y.call(new e)))!==Object.prototype&&c.next&&Oe(c,d,!0),l&&m&&"values"!==m.name&&(h=!0,v=function(){return m.call(this)}),a&&(Ie||h||!p[De])&&G(p,De,v),$[t]=v,$[d]=Pe,i)if(s={values:l?v:f("values"),keys:o?v:f("keys"),entries:g},a)for(u in s)u in p||W(p,u,s[u]);else H(H.P+H.F*(Ie||h),t,s);return s},Ue=function(e){return function(t,r){var n,i,o=String(A(t)),a=x(r),s=o.length;return a<0||a>=s?e?"":void 0:(n=o.charCodeAt(a),n<55296||n>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):n:e?o.slice(a,a+2):i-56320+(n-55296<<10)+65536)}}(!0);je(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=Ue(t,r),this._i+=e.length,{value:e,done:!1})});var Ne=function(e,t,r,n){try{return n?t(T(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&T(i.call(e)),t}},Fe=xe("iterator"),ze=Array.prototype,Ve=function(e){return void 0!==e&&($.Array===e||ze[Fe]===e)},Ge=function(e,t,r){t in e?z.f(e,t,V(0,r)):e[t]=r},qe=xe("toStringTag"),He="Arguments"==Z(function(){return arguments}()),We=function(e,t){try{return e[t]}catch(e){}},Ke=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=We(t=Object(e),qe))?r:He?Z(t):"Object"==(n=Z(t))&&"function"==typeof t.callee?"Arguments":n},Xe=xe("iterator"),$e=O.getIteratorMethod=function(e){if(void 0!=e)return e[Xe]||e["@@iterator"]||$[Ke(e)]},Ye=xe("iterator"),Ze=!1;try{[7][Ye]().return=function(){Ze=!0}}catch(e){}H(H.S+H.F*!function(e,t){if(!t&&!Ze)return!1;var r=!1;try{var n=[7],i=n[Ye]();i.next=function(){return{done:r=!0}},n[Ye]=function(){return i},e(n)}catch(e){}return r}(function(e){}),"Array",{from:function(e){var t,r,n,i,o=Le(e),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,c=void 0!==u,f=0,d=$e(o);if(c&&(u=M(u,s>2?arguments[2]:void 0,2)),void 0==d||a==Array&&Ve(d))for(t=te(o.length),r=new a(t);t>f;f++)Ge(r,f,c?u(o[f],f):o[f]);else for(i=d.call(o),r=new a;!(n=i.next()).done;f++)Ge(r,f,c?Ne(i,u,[n.value,f],!0):n.value);return r.length=f,r}});var Qe=O.Array.from,Je=r(function(e){e.exports={default:Qe,__esModule:!0}});t(Je);var et=r(function(e,t){t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(Je);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}}),tt=t(et),rt=function(e,t){return{value:t,done:!!e}};je(Array,"Array",function(e,t){this._t=J(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,rt(1)):"keys"==t?rt(0,r):"values"==t?rt(0,e[r]):rt(0,[r,e[r]])},"values");$.Arguments=$.Array;for(var nt=xe("toStringTag"),it="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),ot=0;ot<it.length;ot++){var at=it[ot],st=k[at],ut=st&&st.prototype;ut&&!ut[nt]&&G(ut,nt,at),$[at]=$.Array}var ct=xe,ft={f:ct},dt=ft.f("iterator"),lt=r(function(e){e.exports={default:dt,__esModule:!0}});t(lt);var ht=r(function(e){var t=ce("meta"),r=z.f,n=0,i=Object.isExtensible||function(){return!0},a=!B(function(){return i(Object.preventExtensions({}))}),s=function(e){r(e,t,{value:{i:"O"+ ++n,w:{}}})},u=function(e,r){if(!L(e))return"symbol"==(void 0===e?"undefined":o(e))?e:("string"==typeof e?"S":"P")+e;if(!X(e,t)){if(!i(e))return"F";if(!r)return"E";s(e)}return e[t].i},c=function(e,r){if(!X(e,t)){if(!i(e))return!0;if(!r)return!1;s(e)}return e[t].w},f=function(e){return a&&d.NEED&&i(e)&&!X(e,t)&&s(e),e},d=e.exports={KEY:t,NEED:!1,fastKey:u,getWeak:c,onFreeze:f}}),pt=(ht.KEY,ht.NEED,ht.fastKey,ht.getWeak,ht.onFreeze,z.f),mt=function(e){var t=O.Symbol||(O.Symbol={});"_"==e.charAt(0)||e in t||pt(t,e,{value:ft.f(e)})},vt=Object.getOwnPropertySymbols,gt={f:vt},yt={}.propertyIsEnumerable,_t={f:yt},bt=function(e){var t=ve(e),r=gt.f;if(r)for(var n,i=r(e),o=_t.f,a=0;i.length>a;)o.call(e,n=i[a++])&&t.push(n);return t},wt=Array.isArray||function(e){return"Array"==Z(e)},St=me.concat("length","prototype"),Et=Object.getOwnPropertyNames||function(e){return pe(e,St)},xt={f:Et},At=xt.f,kt={}.toString,Ot="object"==("undefined"==typeof window?"undefined":o(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Rt=function(e){try{return At(e)}catch(e){return Ot.slice()}},Mt=function(e){return Ot&&"[object Window]"==kt.call(e)?Rt(e):At(J(e))},Lt={f:Mt},Tt=Object.getOwnPropertyDescriptor,Bt=C?Tt:function(e,t){if(e=J(e),t=U(t,!0),j)try{return Tt(e,t)}catch(e){}if(X(e,t))return V(!_t.f.call(e,t),e[t])},Ct={f:Bt},Dt=ht.KEY,It=Ct.f,Pt=z.f,jt=Lt.f,Ut=k.Symbol,Nt=k.JSON,Ft=Nt&&Nt.stringify,zt=xe("_hidden"),Vt=xe("toPrimitive"),Gt={}.propertyIsEnumerable,qt=ae("symbol-registry"),Ht=ae("symbols"),Wt=ae("op-symbols"),Kt=Object.prototype,Xt="function"==typeof Ut,$t=k.QObject,Yt=!$t||!$t.prototype||!$t.prototype.findChild,Zt=C&&B(function(){return 7!=Ee(Pt({},"a",{get:function(){return Pt(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=It(Kt,t);n&&delete Kt[t],Pt(e,t,r),n&&e!==Kt&&Pt(Kt,t,n)}:Pt,Qt=function(e){var t=Ht[e]=Ee(Ut.prototype);return t._k=e,t},Jt=Xt&&"symbol"==o(Ut.iterator)?function(e){return"symbol"==(void 0===e?"undefined":o(e))}:function(e){return e instanceof Ut},er=function(e,t,r){return e===Kt&&er(Wt,t,r),T(e),t=U(t,!0),T(r),X(Ht,t)?(r.enumerable?(X(e,zt)&&e[zt][t]&&(e[zt][t]=!1),r=Ee(r,{enumerable:V(0,!1)})):(X(e,zt)||Pt(e,zt,V(1,{})),e[zt][t]=!0),Zt(e,t,r)):Pt(e,t,r)},tr=function(e,t){T(e);for(var r,n=bt(t=J(t)),i=0,o=n.length;o>i;)er(e,r=n[i++],t[r]);return e},rr=function(e,t){return void 0===t?Ee(e):tr(Ee(e),t)},nr=function(e){var t=Gt.call(this,e=U(e,!0));return!(this===Kt&&X(Ht,e)&&!X(Wt,e))&&(!(t||!X(this,e)||!X(Ht,e)||X(this,zt)&&this[zt][e])||t)},ir=function(e,t){if(e=J(e),t=U(t,!0),e!==Kt||!X(Ht,t)||X(Wt,t)){var r=It(e,t);return!r||!X(Ht,t)||X(e,zt)&&e[zt][t]||(r.enumerable=!0),r}},or=function(e){for(var t,r=jt(J(e)),n=[],i=0;r.length>i;)X(Ht,t=r[i++])||t==zt||t==Dt||n.push(t);return n},ar=function(e){for(var t,r=e===Kt,n=jt(r?Wt:J(e)),i=[],o=0;n.length>o;)!X(Ht,t=n[o++])||r&&!X(Kt,t)||i.push(Ht[t]);return i};Xt||(Ut=function(){if(this instanceof Ut)throw TypeError("Symbol is not a constructor!");var e=ce(arguments.length>0?arguments[0]:void 0),t=function t(r){this===Kt&&t.call(Wt,r),X(this,zt)&&X(this[zt],e)&&(this[zt][e]=!1),Zt(this,e,V(1,r))};return C&&Yt&&Zt(Kt,e,{configurable:!0,set:t}),Qt(e)},W(Ut.prototype,"toString",function(){return this._k}),Ct.f=ir,z.f=er,xt.f=Lt.f=or,_t.f=nr,gt.f=ar,ft.f=function(e){return Qt(xe(e))}),H(H.G+H.W+H.F*!Xt,{Symbol:Ut});for(var sr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ur=0;sr.length>ur;)xe(sr[ur++]);for(var cr=ve(xe.store),fr=0;cr.length>fr;)mt(cr[fr++]);H(H.S+H.F*!Xt,"Symbol",{for:function(e){return X(qt,e+="")?qt[e]:qt[e]=Ut(e)},keyFor:function(e){if(!Jt(e))throw TypeError(e+" is not a symbol!");for(var t in qt)if(qt[t]===e)return t},useSetter:function(){Yt=!0},useSimple:function(){Yt=!1}}),H(H.S+H.F*!Xt,"Object",{create:rr,defineProperty:er,defineProperties:tr,getOwnPropertyDescriptor:ir,getOwnPropertyNames:or,getOwnPropertySymbols:ar}),Nt&&H(H.S+H.F*(!Xt||B(function(){var e=Ut();return"[null]"!=Ft([e])||"{}"!=Ft({a:e})||"{}"!=Ft(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Jt(e)){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);return t=n[1],"function"==typeof t&&(r=t),!r&&wt(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!Jt(t))return t}),n[1]=t,Ft.apply(Nt,n)}}}),Ut.prototype[Vt]||G(Ut.prototype,Vt,Ut.prototype.valueOf),Oe(Ut,"Symbol"),Oe(Math,"Math",!0),Oe(k.JSON,"JSON",!0),mt("asyncIterator"),mt("observable");var dr=O.Symbol,lr=r(function(e){e.exports={default:dr,__esModule:!0}});t(lr),t(r(function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(lt),i=r(lr),a="function"==typeof i.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)};t.default="function"==typeof i.default&&"symbol"===a(n.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}}));!function(e,t){var r=(O.Object||{})[e]||Object[e],n={};n[e]=t(r),H(H.S+H.F*B(function(){r(1)}),"Object",n)}("keys",function(){return function(e){return ve(Le(e))}});var hr=O.Object.keys;t(r(function(e){e.exports={default:hr,__esModule:!0}}));var pr=Math.floor,mr=function(e){return!L(e)&&isFinite(e)&&pr(e)===e};H(H.S,"Number",{isInteger:mr});var vr=O.Number.isInteger;t(r(function(e){e.exports={default:vr,__esModule:!0}}));var gr="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",yr="["+gr+"]",_r="​",br=RegExp("^"+yr+yr+"*"),wr=RegExp(yr+yr+"*$"),Sr=function(e,t,r){var n={},i=B(function(){return!!gr[e]()||_r[e]()!=_r}),o=n[e]=i?t(Er):gr[e];r&&(n[r]=o),H(H.P+H.F*i,"String",n)},Er=Sr.trim=function(e,t){return e=String(A(e)),1&t&&(e=e.replace(br,"")),2&t&&(e=e.replace(wr,"")),e},xr=Sr,Ar=k.parseFloat,kr=xr.trim,Or=1/Ar(gr+"-0")!=-1/0?function(e){var t=kr(String(e),3),r=Ar(t);return 0===r&&"-"==t.charAt(0)?-0:r}:Ar;H(H.S+H.F*(Number.parseFloat!=Or),"Number",{parseFloat:Or});var Rr=parseFloat;t(r(function(e){e.exports={default:Rr,__esModule:!0}}));var Mr=l(function(e){return e});e.genTraversalHandler=l,e.deepClone=h,e.deepAssign=p,e.camelize=m,e.hypenate=v,e.bind=g,e.uuid=y,e.S4=_,e.rand=b,e.getDeepProperty=w,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,r){function n(e,t){return e.getAttribute(t)}function i(e,t,r){void 0===r?e.removeAttribute(t):e.setAttribute(t,r)}function o(e,t){if(t&&(t=t.trim())){var r=t.split(/\s+/);if(e.classList)r.forEach(function(t){return e.classList.add(t)});else{var n=" "+(e.className||"")+" ";r.forEach(function(e){-1===n.indexOf(" "+e+" ")&&(n+=" "+e)}),e.className=n.trim()}}}function a(e,t){if(t&&(t=t.trim())){var r=t.split(/\s+/);if(e.classList)r.forEach(function(t){return e.classList.remove(t)});else{var n=" "+e.className+" ";r.forEach(function(e){for(var t=" "+e+" ";-1!==n.indexOf(t);)n=n.replace(t," ")}),e.className=n.trim()}}}function s(e,t){return new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e.className)}function u(e,t,r,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),void 0!==i&&!(0,y.isBoolean)(i)&&x&&(i={passive:!0}),n){var o=(0,_.removeEventCache)(e,t+"_once",r);o&&(r=o)}e.removeEventListener(t,r,i)}function c(e,t,r,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),void 0!==i&&!(0,y.isBoolean)(i)&&x&&(i={passive:!0}),n){var o=r;r=function(){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];o.apply(this,a),u(e,t,r,n,i)}}(),(0,_.addEventCache)(e,t+"_once",o,r)}e.addEventListener(t,r,i)}function f(e,t,r,n,i){void 0===i&&(i=!1),void 0!==i&&!(0,y.isBoolean)(i)&&x&&(i={passive:!0});var o=function(r){var i,o=v(r.target||r.srcElement,e,!0),a=p(t,e,!0);a.find?i=a.find(function(e){return o.find(function(t){return e===t})}):a.forEach(function(e){return!i&&o.forEach(function(t){i||e!==t||(i=t)})}),i&&n.apply(i,arguments)};(0,_.addEventCache)(e,r+"_delegate_"+t,n,o),e.addEventListener(r,o,i)}function d(e,t,r,n,i){void 0===i&&(i=!1),void 0!==i&&!(0,y.isBoolean)(i)&&x&&(i={passive:!0});var o=(0,_.removeEventCache)(e,r+"_delegate_"+t,n);o&&e.removeEventListener(r,o,i)}function l(e,t){return(e.currentStyle||document.defaultView.getComputedStyle(e,null))[t]||e.style[t]}function h(e,t,r){if((0,y.isObject)(t))for(var n in t)h(e,n,t[n]);else e.style[t]=r}function p(e,t,r){void 0===t&&(t=document);var n=t.querySelectorAll(e);return r?Array.from(n):n}function m(e){e.parentNode.removeChild(e)}function v(e,t,r,n){void 0===t&&(t=null);var i=[];for(r&&i.push(e);e&&e.parentNode!==t;)(e=e.parentNode)&&i.push(e);return n&&i.push(t),i}function g(e,t){return e.constructor===k?e:new k(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeWrap=t.supportsPassive=void 0,t.getAttr=n,t.setAttr=i,t.addClassName=o,t.removeClassName=a,t.hasClassName=s,t.removeEvent=u,t.addEvent=c,t.addDelegate=f,t.removeDelegate=d,t.getStyle=l,t.setStyle=h,t.query=p,t.removeEl=m,t.findParents=v,t.$=g;var y=r(0),_=r(2),b=r(1),w=b.inBrowser?document.createElement("div"):{},S="innerText";"textContent"in w&&(S="textContent");var E=Array.prototype,x=t.supportsPassive=!1;try{var A=Object.defineProperty({},"passive",{get:function(){t.supportsPassive=x=!0}});b.inBrowser&&window.addEventListener("test",null,A)}catch(e){console.error(e)}var k=function(){function e(e,t){void 0===t&&(t=document);var r=this;r.selector=e;var n;e&&e.constructor===NodeList?n=(0,b.makeArray)(e):(0,y.isArray)(e)?n=e:(0,y.isString)(e)?0===e.indexOf("<")?(w.innerHTML=e,n=p("*",w,!0)):n=p(e,t,!0):n=[e],Object.assign(r,n),r.length=n.length}return e.prototype.each=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return E.forEach.apply(this,e),this},e.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return E.push.apply(this,e),this},e.prototype.splice=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g(E.splice.apply(this,e))},e.prototype.find=function(e){var t=[];this.each(function(r){t=t.concat(p(e,r,!0))});var r=g(t);return r.parent=this,r.selector=e,r},e.prototype.append=function(e){var t=g(e),r=this[0];return t.each(function(e){return r.appendChild(e)}),this},e.prototype.appendTo=function(e){return g(e).append(this),this},e.prototype.text=function(e){return 0===arguments.length?this[0][S]:this.each(function(t){t[S]=e})},e.prototype.html=function(e){return 0===arguments.length?this[0].innerHTML:this.each(function(t){t.innerHTML=e})},e.prototype.attr=function(e,t){return 1===arguments.length?n(this[0],e):this.each(function(r){return i(r,e,t)})},e.prototype.data=function(e,t){return 0===arguments.length?this[0].dataset||{}:1===arguments.length?(this[0].dataset||{})[e]:this.each(function(r){(r.dataset||(r.dataset={}))[e]=t})},e.prototype.css=function(e,t){return 1!==arguments.length||(0,y.isObject)(e)?this.each(function(r){return h(r,e,t)}):l(this[0],e)},e.prototype.addClass=function(e){return this.each(function(t){return o(t,e)})},e.prototype.removeClass=function(e){return this.each(function(t){return a(t,e)})},e.prototype.hasClass=function(e){return s(this[0],e)},e.prototype.on=function(e,t,r,n){return void 0===r&&(r=!1),void 0===n&&(n=!1),this.each(function(i){return c(i,e,t,r,n)})},e.prototype.off=function(e,t,r,n){return void 0===r&&(r=!1),void 0===n&&(n=!1),this.each(function(i){return u(i,e,t,r,n)})},e.prototype.delegate=function(e,t,r,n){return void 0===n&&(n=!1),this.each(function(i){return f(i,e,t,r,n)})},e.prototype.undelegate=function(e,t,r,n){return void 0===n&&(n=!1),this.each(function(i){return d(i,e,t,r,n)})},e.prototype.remove=function(){return this.each(function(e){return m(e)})},e}();t.NodeWrap=k},function(e,t,r){function n(e,t){if(!(0,a.isString)(e))throw new TypeError("Log's method only acccept string as argument, but not "+e+" in "+(void 0===e?"undefined":i(e)));return(0,a.isString)(t)?"["+(e=s.FORCE_GLOBAL_TAG?s.GLOBAL_TAG:e||s.GLOBAL_TAG)+"] > "+t:"["+s.GLOBAL_TAG+"] > "+e}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},a=r(0),s=function(){function e(){}return e.error=function(t,r){e.ENABLE_ERROR&&(console.error||console.warn||console.log).call(console,n(t,r))},e.info=function(t,r){e.ENABLE_INFO&&(console.info||console.log).call(console,n(t,r))},e.warn=function(t,r){e.ENABLE_WARN&&(console.warn||console.log).call(console,n(t,r))},e.debug=function(t,r){e.ENABLE_DEBUG&&(console.debug||console.log).call(console,n(t,r))},e.verbose=function(t,r){e.ENABLE_VERBOSE&&console.log(n(t,r))},e.GLOBAL_TAG="chimee",e.FORCE_GLOBAL_TAG=!1,e.ENABLE_ERROR=!0,e.ENABLE_INFO=!0,e.ENABLE_WARN=!0,e.ENABLE_DEBUG=!0,e.ENABLE_VERBOSE=!0,e}();t.default=s},function(e,t,r){var n;!function(i,a){var s="model",u="name",c="type",f="vendor",d="version",l="mobile",h="tablet",p={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===(void 0===e?"undefined":o(e))?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},m={rgx:function(e,t){for(var r,n,i,a,s,u,c=0;c<t.length&&!s;){var f=t[c],d=t[c+1];for(r=n=0;r<f.length&&!s;)if(s=f[r++].exec(e))for(i=0;i<d.length;i++)u=s[++n],a=d[i],"object"===(void 0===a?"undefined":o(a))&&a.length>0?2==a.length?"function"==o(a[1])?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3==a.length?"function"!==o(a[1])||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4==a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||void 0;c+=2}},str:function(e,t){for(var r in t)if("object"===o(t[r])&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(p.has(t[r][n],e))return"?"===r?void 0:r}else if(p.has(t[r],e))return"?"===r?void 0:r;return e}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,d],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],d],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],d],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[u,d],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[u,"IE"],d],[/(edge)\/((\d+)?[\w\.]+)/i],[u,d],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],d],[/(puffin)\/([\w\.]+)/i],[[u,"Puffin"],d],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],d],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],d],[/(QQ)\/([\d\.]+)/i],[u,d],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[u,d],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[u,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[d,[u,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1 WebView"],d],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[u,/(.+(?:g|us))(.+)/,"$1 $2"],d],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[d,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,d],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],d],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],d],[/(coast)\/([\w\.]+)/i],[[u,"Opera Coast"],d],[/fxios\/([\w\.-]+)/i],[d,[u,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[d,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[d,u],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[u,"GSA"],d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[d,m.str,v.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[u,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],d],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,f,[c,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[f,"Apple"],[c,h]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[f,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[f,s,[c,h]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[s,[f,"Amazon"],[c,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[s,m.str,v.device.amazon.model],[f,"Amazon"],[c,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,f,[c,l]],[/\((ip[honed|\s\w*]+);/i],[s,[f,"Apple"],[c,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[f,s,[c,l]],[/\(bb10;\s(\w+)/i],[s,[f,"BlackBerry"],[c,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[f,"Asus"],[c,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[f,"Sony"],[s,"Xperia Tablet"],[c,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[f,"Sony"],[c,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[f,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[f,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[f,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[f,m.str,v.device.sprint.vendor],[s,m.str,v.device.sprint.model],[c,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[f,s,[c,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[f,[s,/_/g," "],[c,l]],[/(nexus\s9)/i],[s,[f,"HTC"],[c,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[f,"Huawei"],[c,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[f,s,[c,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[f,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[f,"Microsoft"],[c,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[f,"Motorola"],[c,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[f,"Motorola"],[c,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[f,p.trim],[s,p.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[f,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[f,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[f,"Samsung"],s,[c,h]],[/smart-tv.+(samsung)/i],[f,[c,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[f,"Samsung"],s,[c,l]],[/sie-(\w+)*/i],[s,[f,"Siemens"],[c,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[f,"Nokia"],s,[c,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[f,"Acer"],[c,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[f,"LG"],[c,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[f,"LG"],s,[c,h]],[/(lg) netcast\.tv/i],[f,s,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[f,"LG"],[c,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[f,"Lenovo"],[c,h]],[/linux;.+((jolla));/i],[f,s,[c,l]],[/((pebble))app\/[\d\.]+\s/i],[f,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[f,s,[c,l]],[/crkey/i],[[s,"Chromecast"],[f,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[f,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)\s/i],[s,[f,"Google"],[c,h]],[/android.+;\s(pixel xl|pixel)\s/i],[s,[f,"Google"],[c,l]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[s,/_/g," "],[f,"Xiaomi"],[c,l]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[s,/_/g," "],[f,"Xiaomi"],[c,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[f,"Meizu"],[c,h]],[/android.+a000(1)\s+build/i],[s,[f,"OnePlus"],[c,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[f,"RCA"],[c,h]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[s,[f,"Dell"],[c,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[f,"Verizon"],[c,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[f,"Barnes & Noble"],s,[c,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[f,"NuVision"],[c,h]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[f,"ZTE"],s,[c,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[f,"Swiss"],[c,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[f,"Swiss"],[c,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[f,"Zeki"],[c,h]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[f,"Dragon Touch"],s,[c,h]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[s,[f,"Insignia"],[c,h]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[s,[f,"NextBook"],[c,h]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[f,"Voice"],s,[c,l]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[f,"LvTel"],s,[c,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[f,"Envizen"],[c,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[f,s,[c,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[f,"MachSpeed"],[c,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[f,s,[c,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[f,"Rotor"],[c,h]],[/android.+(KS(.+))\s+build/i],[s,[f,"Amazon"],[c,h]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[f,s,[c,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,p.lowerize],f,s],[/(android.+)[;\/].+build/i],[s,[f,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[u,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,d],[/rv\:([\w\.]+).*(gecko)/i],[d,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[d,m.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[d,m.str,v.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[u,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[u,"Symbian"],d],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],d],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[u,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],d],[/(sunos)\s?([\w\.]+\d)*/i],[[u,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[u,d],[/(haiku)\s(\w+)/i],[u,d],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[d,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[d,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[u,d]]},y=function e(t,r){if("object"===(void 0===t?"undefined":o(t))&&(r=t,t=void 0),!(this instanceof e))return new e(t,r).getResult();var n=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=r?p.extend(g,r):g;return this.getBrowser=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,n,a.browser),e.major=p.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return m.rgx.call(e,n,a.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return m.rgx.call(e,n,a.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,n,a.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,n,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};y.VERSION="0.7.17",y.BROWSER={NAME:u,MAJOR:"major",VERSION:d},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:s,VENDOR:f,TYPE:c,CONSOLE:"console",MOBILE:l,SMARTTV:"smarttv",TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:u,VERSION:d},y.OS={NAME:u,VERSION:d},"undefined"!==(void 0===t?"undefined":o(t))?("undefined"!==(void 0===e?"undefined":o(e))&&e.exports&&(t=e.exports=y),t.UAParser=y):r(9)?void 0!==(n=function(){return y}.call(t,r,t,e))&&(e.exports=n):i&&(i.UAParser=y);var _=i&&(i.jQuery||i.Zepto);if("undefined"!==(void 0===_?"undefined":o(_))){var b=new y;_.ua=b.getResult(),_.ua.get=function(){return b.getUA()},_.ua.set=function(e){b.setUA(e);var t=b.getResult();for(var r in t)_.ua[r]=t[r]}}}("object"===("undefined"==typeof window?"undefined":o(window))?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})}]).default})}).call(t,r(11)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERRORNO={NET_ERROR:100,CODEC_ERROR:101,CANNOT_SEEK:102,ENDOFSTREAM_ERROR:103,MEDIASOURCE_ERROR:104,SOURCEBUFFER_ERROR:105,SBABORT_ERROR:106,APPENDBUFFER_ERROR:107}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(13),o=n(i),a=r(15),s=n(a),u=r(16),c=n(u),f=r(17),d=n(f),l=r(0),h=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),p=function(e){function t(t){var r=e.call(this)||this;return r.loader=null,r.config={},r.config=t||{},r.bufferSize=3145728,r.cacheBuffer=new ArrayBuffer(r.bufferSize),r.cacheRemain=0,r.stashByteStart=0,r.enableStash=!0,r.stashSize=r.config.stashSize||393216,r.resumeFrom=0,r.currentRange={},r.totalReceive=0,r.seekPonit=void 0,r.timer=null,r.heartBeatInterval=null,r.preTotalReceive=0,r.seekLock=!1,r.webSocketURLReg=/wss?:\/\/(.+?)/,r.selectLoader(),r.bindEvent(),r}return h(t,e),t.prototype.selectLoader=function(){var e=this.config,t=this.config.src;this.webSocketURLReg.test(t)?this.loader=new c.default(t,e,this.queryHandle):o.default.isSupport()?this.loader=new o.default(t,e,this.queryHandle):d.default.isSupport()?this.loader=new d.default(t,e,this.queryHandle):s.default.isSupport()&&(this.loader=new s.default(t,e,this.queryHandle)),this.loader.arrivalDataCallback=this.onLoaderChunkArrival.bind(this)},t.prototype.bindEvent=function(){var e=this;this.loader.on("end",function(){var t=e.cacheBuffer.slice(0,e.cacheRemain);e.arrivalDataCallback(t,e.stashByteStart),e.emit("end")}),this.loader.on("error",function(t){e.emit("error",t.data)})},t.prototype.onLoaderChunkArrival=function(e,t,r){if((!this.seekLock||void 0!==r)&&(void 0!==r&&(this.seekPonit=r,this.seekLock=!1),this.arrivalDataCallback))if(this.totalReceive+=e.byteLength,0===this.cacheRemain&&0===this.stashByteStart&&(this.stashByteStart=t),this.cacheRemain+e.byteLength<=this.stashSize){var n=new Uint8Array(this.cacheBuffer,0,this.stashSize);n.set(new Uint8Array(e),this.cacheRemain),this.cacheRemain+=e.byteLength}else{var n=new Uint8Array(this.cacheBuffer,0,this.bufferSize);if(this.cacheRemain>0){var i=this.cacheBuffer.slice(0,this.cacheRemain),o=0;if(void 0!==this.seekPonit?(o=this.arrivalDataCallback(i,this.stashByteStart,this.seekPonit),this.seekPonit=void 0):o=this.arrivalDataCallback(i,this.stashByteStart),o<i.byteLength){if(o>0){var a=new Uint8Array(i,o);n.set(a,0),this.cacheRemain=a.byteLength,this.stashByteStart+=o}}else this.cacheRemain=0,this.stashByteStart+=o;this.cacheRemain+e.byteLength>this.bufferSize&&(this.expandBuffer(this.cacheRemain+e.byteLength),n=new Uint8Array(this.cacheBuffer,0,this.bufferSize)),n.set(new Uint8Array(e),this.cacheRemain),this.cacheRemain+=e.byteLength}else{var o=0;if(void 0!==this.seekPonit?(o=this.arrivalDataCallback(e,t,this.seekPonit),this.seekPonit=void 0):o=this.arrivalDataCallback(e,t),o<e.byteLength){var s=e.byteLength-o;s>this.bufferSize&&(this.expandBuffer(s),n=new Uint8Array(this.cacheBuffer,0,this.bufferSize)),n.set(new Uint8Array(e,o),0),this.cacheRemain+=s,this.stashByteStart=t+o}}}},t.prototype.initCacheBuffer=function(){this.cacheRemain=0,this.totalReceive=0,this.cacheBuffer=new ArrayBuffer(this.bufferSize)},t.prototype.expandBuffer=function(e){var t=this.bufferSize;t<e&&(t=e),this.cacheBuffer=new ArrayBuffer(t),this.bufferSize=t},t.prototype.pause=function(){this.loader.pause()},t.prototype.open=function(e,t){this.loader.open({from:e||0,to:-1},t),this.heartbeat()},t.prototype.heartbeat=function(){var e=this;window.clearInterval(this.heartBeatInterval),this.heartBeatInterval=setInterval(function(){e.emit("heartbeat",{speed:e.totalReceive-e.preTotalReceive,totalReceive:e.totalReceive}),e.preTotalReceive=e.totalReceive},1e3)},t.prototype.resume=function(){this.paused=!1;var e=this.totalReceive;this.open(e)},t.prototype.seek=function(e,t,r){this.seekLock=!0,this.totalReceive=e,this.preTotalReceive=e,this.initCacheBuffer(),this.cacheRemain=0,this.stashByteStart=0,this.open(e,r)},t.prototype.destroy=function(){this.pause(),this.initCacheBuffer(),window.clearInterval(this.heartBeatInterval),this.heartBeatInterval=null},t}(l.CustEvent);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r={};return t=-1!==e.to?"bytes="+e.from.toString()+"-"+e.to.toString():"bytes="+e.from.toString()+"-",r.Range=t,{headers:r}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),o=n(i),a=r(5),s=n(a),u=r(7),c=n(u),f=r(26),d=n(f),l=r(0),h=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),p=function(){function e(e){c.default.init(),this._config={_isLive:!1},Object.assign(this._config,e),this.onInitSegment=null,this.onMediaSegment=null,this.onMediaInfo=null,this.seekCallBack=null,this.loadmetadata=!1,this.ftyp_moov=null,this._tagdemux=new s.default,this._flvparse=new o.default,this.ftyp_moov_v=null,this.ftyp_moov_a=null,this.metaSuccRun=!1,this.metas=[],this.parseChunk=null,this.hasVideo=!1,this.hasAudio=!1,this._error=null,this._pendingResolveSeekPoint=-1,this._tempBaseTime=0,this.setflvBase=this.setflvBasefrist,this._tagdemux._onTrackMetadata=this.Metadata.bind(this),this._tagdemux._onMediaInfo=this.metaSucc.bind(this),this._tagdemux._onDataAvailable=this.onDataAvailable.bind(this),this._tagdemux._onError=this.error.bind(this),this.m4mof=new d.default(this._config),this.m4mof.onMediaSegment=this.onMdiaSegment.bind(this)}return e.prototype.seek=function(e){this._flvparse.dispose(),this.setflvBase=this.setflvBasefrist,void 0!=e&&0!=e||(e=0,this._pendingResolveSeekPoint=-1),this._tempBaseTime!=e&&(this._tempBaseTime=e,this._tagdemux._timestampBase=e,this.m4mof.seek(e),this.m4mof.insertDiscontinuity(),this._pendingResolveSeekPoint=e)},e.prototype.setflvBasefrist=function(e,t){var r=0;try{r=this._flvparse.setFlv(new Uint8Array(e))}catch(e){this.error(e)}if(0==this._flvparse.arrTag.length)return r;if(this._flvparse.arrTag.length>0){this._tagdemux.hasAudio=this.hasAudio=this._flvparse._hasAudio,this._tagdemux.hasVideo=this.hasVideo=this._flvparse._hasVideo,0!=this._tempBaseTime&&this._tempBaseTime==this._flvparse.arrTag[0].getTime()&&(this._tagdemux._timestampBase=0);try{this._tagdemux.moofTag(this._flvparse.arrTag)}catch(e){this.error(e)}this.setflvBase=this.setflvBaseUsually}return r},e.prototype.setflvBaseUsually=function(e,t){var r=0;try{r=this._flvparse.setFlv(new Uint8Array(e))}catch(e){this.error(e)}if(this._flvparse.arrTag.length>0)try{this._tagdemux.moofTag(this._flvparse.arrTag)}catch(e){this.error(e)}return r},e.prototype.onMdiaSegment=function(e,t){if(this.onMediaSegment&&this.onMediaSegment(e,new Uint8Array(t.data)),-1!=this._pendingResolveSeekPoint&&"video"==e){var r=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=-1,this.seekCallBack&&this.seekCallBack(r)}},e.prototype.Metadata=function(e,t){switch(e){case"video":if(this.metas.push(["video",t]),this.m4mof._videoMeta=t,this.hasVideo&&!this.hasAudio)return void this.metaSucc();break;case"audio":if(this.metas.push(["audio",t]),this.m4mof._audioMeta=t,!this.hasVideo&&this.hasAudio)return void this.metaSucc()}this.hasVideo&&this.hasAudio&&this.m4mof._videoMeta&&this.m4mof._audioMeta&&this.metaSucc()},e.prototype.metaSucc=function(e){var t=this;if(this.onMediaInfo&&e&&this.onMediaInfo(e||this._tagdemux._mediaInfo,{hasAudio:this.hasAudio,hasVideo:this.hasVideo}),0==this.metas.length)return void(this.metaSuccRun=!0);e||(this.metas.length>1?this.metas.map(function(e){"video"==e[0]?t.ftyp_moov_v=c.default.generateInitSegment([e[1]]):t.ftyp_moov_a=c.default.generateInitSegment([e[1]])}):this.ftyp_moov=c.default.generateInitSegment([this.metas[0][1]]),this.onInitSegment&&0==this.loadmetadata&&(this.ftyp_moov?this.onInitSegment(this.ftyp_moov):this.onInitSegment(this.ftyp_moov_v,this.ftyp_moov_a),this.loadmetadata=!0))},e.prototype.onDataAvailable=function(e,t){try{this.m4mof.remux(e,t)}catch(e){this.error(e)}},e.prototype.setflv=function(e,t){return this.setflvBase(e,t)},e.prototype.setflvloc=function(e){o.default.setFlv(new Uint8Array(e));if(o.default.arrTag.length>0)return o.default.arrTag},e.prototype.error=function(e){this._error&&this._error(e)},e}(),m=function(e){function t(t){var r=e.call(this)||this;return r.f2m=new p(t),r.f2m._error=r.error.bind(r),r._onInitSegment=null,r._onMediaSegment=null,r._onMediaInfo=null,r._seekCallBack=null,r}return h(t,e),t.prototype.error=function(e){this.emit("error",e.type)},t.prototype.seek=function(e){this.f2m.seek(e)},t.prototype.setflv=function(e){return this.f2m.setflv(e,0)},t.prototype.setflvloc=function(e){return this.f2m.setflvloc(e)},Object.defineProperty(t.prototype,"onInitSegment",{set:function(e){this._onInitSegment=e,this.f2m.onInitSegment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMediaSegment",{set:function(e){this._onMediaSegment=e,this.f2m.onMediaSegment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMediaInfo",{set:function(e){this._onMediaInfo=e,this.f2m.onMediaInfo=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seekCallBack",{set:function(e){this._seekCallBack=e,this.f2m.seekCallBack=e},enumerable:!0,configurable:!0}),t}(l.CustEvent);t.default=m},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(21),a=n(o),s=r(23),u=n(s),c=r(24),f=n(c),d=r(6),l=n(d),h=function(){function e(){this.TAG=this.constructor.name,this._config={},this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=0,this._firstParse=!0,this._dispatch=!1,this._hasAudio=!1,this._hasVideo=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new u.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._videoTrack={type:"video",id:1,sequenceNumber:0,addcoefficient:2,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,addcoefficient:2,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return Object.defineProperty(e.prototype,"hasAudio",{set:function(e){this._mediaInfo.hasAudio=this._hasAudio=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasVideo",{set:function(e){this._mediaInfo.hasVideo=this._hasVideo=e},enumerable:!0,configurable:!0}),e.prototype.onMediaInfo=function(e){this._onMediaInfo=e},e.prototype.parseMetadata=function(e){var t=a.default.parseMetadata(e);this._parseScriptData(t)},e.prototype._parseScriptData=function(e){var t=e;if(t.hasOwnProperty("onMetaData")){this._metadata,this._metadata=t;var r=this._metadata.onMetaData;if("boolean"==typeof r.hasAudio&&(this._hasAudio=r.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof r.hasVideo&&(this._hasVideo=r.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof r.audiodatarate&&(this._mediaInfo.audioDataRate=r.audiodatarate),"number"==typeof r.videodatarate&&(this._mediaInfo.videoDataRate=r.videodatarate),"number"==typeof r.width&&(this._mediaInfo.width=r.width),"number"==typeof r.height&&(this._mediaInfo.height=r.height),"number"==typeof r.duration){if(!this._durationOverrided){var n=Math.floor(r.duration*this._timescale);this._duration=n,this._mediaInfo.duration=n}}else this._mediaInfo.duration=0;if("number"==typeof r.framerate){var o=Math.floor(1e3*r.framerate);if(o>0){var a=o/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=a,this._referenceFrameRate.fps_num=o,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=a}}if("object"===i(r.keyframes)){this._mediaInfo.hasKeyframesIndex=!0;var s=r.keyframes;s.times=r.times,s.filepositions=r.filepositions,this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(s),r.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;return this._dispatch=!1,this._mediaInfo.metadata=r,console.log(this.TAG,"Parsed onMetaData"),this._mediaInfo}},e.prototype._parseKeyframesIndex=function(e){for(var t=[],r=[],n=1;n<e.times.length;n++){var i=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(i),r.push(e.filepositions[n])}return{times:t,filepositions:r}},e.prototype.moofTag=function(e){for(var t=0;t<e.length;t++)this._dispatch=!0,this.parseChunks(e[t]);this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack)},e.prototype.parseChunks=function(e){switch(e.tagType){case 8:this._parseAudioData(e.body.buffer,0,e.body.length,e.getTime());break;case 9:this._parseVideoData(e.body.buffer,0,e.body.length,e.getTime(),0);break;case 18:this.parseMetadata(e.body)}},e.prototype._parseVideoData=function(e,t,r,n,i){if(n==this._timestampBase&&0!=this._timestampBase)throw new l.default(n,this._timestampBase,"夭寿啦这个视频不是从0开始");if(r<=1)return void console.log(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");var o=new Uint8Array(e,t,r)[0],a=(240&o)>>>4,s=15&o;if(7!==s)return void(this._onError&&this._onError("Flv: Unsupported codec in video frame: "+s));this._parseAVCVideoPacket(e,t+1,r-1,n,i,a)},e.prototype._parseAVCVideoPacket=function(e,t,r,n,i,o){if(r<4)return void console.log(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");var a=this._littleEndian,s=new DataView(e,t,r),u=s.getUint8(0),c=16777215&s.getUint32(0,!a);if(0===u)this._parseAVCDecoderConfigurationRecord(e,t+4,r-4);else if(1===u)this._parseAVCVideoData(e,t+4,r-4,n,i,o,c);else if(2!==u)return void this._onError("Flv: Invalid video packet type "+u)},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,r){if(r<7)return void console.log(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");var n=this._videoMetadata,i=this._videoTrack,o=this._littleEndian,a=new DataView(e,t,r);n?void 0!==n.avcc&&console.log(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(n=this._videoMetadata={},n.type="video",n.id=i.id,n.timescale=this._timescale,n.duration=this._duration);var s=a.getUint8(0),u=a.getUint8(1);a.getUint8(2),a.getUint8(3);if(1!==s||0===u)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");if(this._naluLengthSize=1+(3&a.getUint8(4)),3!==this._naluLengthSize&&4!==this._naluLengthSize)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));var c=31&a.getUint8(5);if(0===c||c>1)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Invalid H264 SPS count: "+c);for(var d=6,l=0;l<c;l++){var h=a.getUint16(d,!o);if(d+=2,0!==h){var p=new Uint8Array(e,t+d,h);d+=h;var m=f.default.parseSPS(p);n.codecWidth=m.codec_size.width,n.codecHeight=m.codec_size.height,n.presentWidth=m.present_size.width,n.presentHeight=m.present_size.height,n.config=m,n.profile=m.profile_string,n.level=m.level_string,n.bitDepth=m.bit_depth,n.chromaFormat=m.chroma_format,n.sarRatio=m.sar_ratio,n.frameRate=m.frame_rate,!1!==m.frame_rate.fixed&&0!==m.frame_rate.fps_num&&0!==m.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);var v=n.frameRate.fps_den,g=n.frameRate.fps_num;n.refSampleDuration=Math.floor(n.timescale*(v/g));for(var y=p.subarray(1,4),_="avc1.",b=0;b<3;b++){var w=y[b].toString(16);w.length<2&&(w="0"+w),_+=w}n.codec=_;var S=this._mediaInfo;S.width=n.codecWidth,S.height=n.codecHeight,S.fps=n.frameRate.fps,S.profile=n.profile,S.level=n.level,S.chromaFormat=m.chroma_format_string,S.sarNum=n.sarRatio.width,S.sarDen=n.sarRatio.height,S.videoCodec=_,S.meta=n,S.hasAudio?null!=S.audioCodec&&(S.mimeType='video/x-flv; codecs="'+S.videoCodec+","+S.audioCodec+'"'):S.mimeType='video/x-flv; codecs="'+S.videoCodec+'"',S.isComplete()&&this._onMediaInfo(S)}}var E=a.getUint8(d);if(0===E||E>1)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Invalid H264 PPS count: "+E);d++;for(var l=0;l<E;l++){var h=a.getUint16(d,!o);d+=2,0!==h&&(d+=h)}n.avcc=new Uint8Array(r),n.avcc.set(new Uint8Array(e,t,r),0),console.log(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)},e.prototype.timestampBase=function(e){this._timestampBase=e},e.prototype._parseAVCVideoData=function(e,t,r,n,i,o,a){for(var s=this._littleEndian,u=new DataView(e,t,r),c=[],f=0,d=0,l=this._naluLengthSize,h=this._timestampBase+n,p=1===o;d<r;){if(d+4>=r){console.log(this.TAG,"Malformed Nalu near timestamp "+h+", offset = "+d+", dataSize = "+r);break}var m=u.getUint32(d,!s);if(3===l&&(m>>>=8),m>r-l)return void console.log(this.TAG,"Malformed Nalus near timestamp "+h+", NaluSize > DataSize!");var v=31&u.getUint8(d+l);5===v&&(p=!0);var g=new Uint8Array(e,t+d,l+m),y={type:v,data:g};c.push(y),f+=g.byteLength,d+=l+m}if(c.length){var _=this._videoTrack,b={units:c,length:f,isKeyframe:p,dts:h,cts:a,pts:h+a};p&&(b.fileposition=i),_.samples.push(b),_.length+=f}},e.prototype._parseAudioData=function(e,t,r,n){if(n==this._timestampBase&&0!=this._timestampBase&&console.log(n,this._timestampBase,"夭寿啦这个视频不是从0开始"),r<=1)return void console.log(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");var i=this._audioMetadata,o=this._audioTrack;if(!i||!i.codec){i=this._audioMetadata={},i.type="audio",i.id=o.id,i.timescale=this._timescale,i.duration=this._duration;var a=(this._littleEndian,new DataView(e,t,r)),s=a.getUint8(0),u=s>>>4;if(10!==u)return void this._onError(DemuxErrors.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+u);var c=0,f=(12&s)>>>2,d=[5500,11025,22050,44100,48e3];if(!(f<d.length))return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+f);c=d[f];var l=1&s;i.audioSampleRate=c,i.channelCount=0===l?1:2,i.refSampleDuration=Math.floor(1024/i.audioSampleRate*i.timescale),i.codec="mp4a.40.5"}var h=this._parseAACAudioData(e,t+1,r-1);if(void 0!=h){if(0===h.packetType){i.config&&console.log(this.TAG,"Found another AudioSpecificConfig!");var p=h.data;i.audioSampleRate=p.samplingRate,i.channelCount=p.channelCount,i.codec=p.codec,i.config=p.config,i.refSampleDuration=Math.floor(1024/i.audioSampleRate*i.timescale),console.log(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1;var m=this._mediaInfo;return m.audioCodec="mp4a.40."+p.originalAudioObjectType,m.audioSampleRate=i.audioSampleRate,m.audioChannelCount=i.channelCount,m.hasVideo?null!=m.videoCodec&&(m.mimeType='video/x-flv; codecs="'+m.videoCodec+","+m.audioCodec+'"'):m.mimeType='video/x-flv; codecs="'+m.audioCodec+'"',this._onTrackMetadata("audio",i),void(m.isComplete()&&this._onMediaInfo(m))}if(1===h.packetType){var v=this._timestampBase+n,g={unit:h.data,dts:v,pts:v};o.samples.push(g),o.length+=h.data.length}else console.log(this.TAG,"Flv: Unsupported AAC data type "+h.packetType)}},e.prototype._parseAACAudioData=function(e,t,r){if(r<=1)return void console.log(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");var n={},i=new Uint8Array(e,t,r);return n.packetType=i[0],0===i[0]?n.data=this._parseAACAudioSpecificConfig(e,t+1,r-1):n.data=i.subarray(1),n},e.prototype._parseAACAudioSpecificConfig=function(e,t,r){var n=new Uint8Array(e,t,r),i=null,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=0,s=0,u=0,c=null;if(a=s=n[0]>>>3,(u=(7&n[0])<<1|n[1]>>>7)<0||u>=o.length)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");var f=o[u],d=(120&n[1])>>>3;if(d<0||d>=8)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: AAC invalid channel configuration");5===a&&(c=(7&n[1])<<1|n[2]>>>7,n[2]);var l=self.navigator.userAgent.toLowerCase();return-1!==l.indexOf("firefox")?u>=6?(a=5,i=new Array(4),c=u-3):(a=2,i=new Array(2),c=u):-1!==l.indexOf("android")?(a=2,i=new Array(2),c=u):(a=5,c=u,i=new Array(4),u>=6?c=u-3:1===d&&(a=2,i=new Array(2),c=u)),i[0]=a<<3,i[0]|=(15&u)>>>1,i[1]=(15&u)<<7,i[1]|=(15&d)<<3,5===a&&(i[1]|=(15&c)>>>1,i[2]=(1&c)<<7,i[2]|=8,i[3]=0),{config:i,samplingRate:f,channelCount:d,codec:"mp4a.40."+a,originalAudioObjectType:s}},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:void 0},e}();t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.type=e}return e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.init=function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};for(var t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=e.constants={};r.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),r.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),r.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSC=r.STCO=r.STTS,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),r.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,r=null,n=Array.prototype.slice.call(arguments,1),i=n.length,o=0;o<i;o++)t+=n[o].byteLength;r=new Uint8Array(t),r[0]=t>>>24&255,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r.set(e,4);for(var a=8,o=0;o<i;o++)r.set(n[o],a),a+=n[o].byteLength;return r},e.generateInitSegment=function(t){t.constructor!=Array&&(t=[t]);var r=e.box(e.types.ftyp,e.constants.FTYP),n=e.moov(t),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(r,0),i.set(n,r.byteLength),i},e.moov=function(t){var r,n=e.mvhd(t[0].timescale,t[0].duration),i=e.trak(t[0]);t.length>1&&(r=e.trak(t[1]));var o=e.mvex(t);return t.length>1?e.box(e.types.moov,n,i,r,o):e.box(e.types.moov,n,i,o)},e.mvhd=function(t,r){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var r=t.id,n=t.duration,i=t.presentWidth,o=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>>8&255,255&i,0,0,o>>>8&255,255&o,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var r=t.timescale,n=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))},e.hdlr=function(t){var r=null;return r="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,r)},e.minf=function(t){var r=null;return r="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,r,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp4a=function(t){var r=t.channelCount,n=t.audioSampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,r,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.mp4a,i,e.esds(t))},e.esds=function(t){var r=t.config,n=r.length,i=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(r).concat([6,1,2]));return e.box(e.types.esds,i)},e.avc1=function(t){var r=t.avcc,n=t.codecWidth,i=t.codecHeight,o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,i>>>8&255,255&i,0,72,0,0,0,72,0,0,0,0,0,0,0,1,4,103,49,49,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,o,e.box(e.types.avcC,r))},e.mvex=function(t){return t.length>1?e.box(e.types.mvex,e.trex(t[0]),e.trex(t[1])):e.box(e.types.mvex,e.trex(t[0]))},e.trex=function(t){var r=t.id,n=new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,n)},e.moof=function(t,r){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,r))},e.mfhd=function(t){var r=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,r)},e.traf=function(t,r){var n=t.id,i=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),o=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),a=e.sdtp(t),s=e.trun(t,a.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,i,o,s,a)},e.sdtp=function(t){for(var r=t.samples||[],n=r.length,i=new Uint8Array(4+n),o=0;o<n;o++){var a=r[o].flags;i[o+4]=a.isLeading<<6|a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy}return e.box(e.types.sdtp,i)},e.trun=function(t,r){var n=t.samples||[],i=n.length,o=12+16*i,a=new Uint8Array(o);r+=8+o,a.set([0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0);for(var s=0;s<i;s++){var u=n[s].duration,c=n[s].size,f=n[s].flags,d=n[s].cts;a.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,c>>>24&255,c>>>16&255,c>>>8&255,255&c,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.isNonSync,0,0,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s)}return e.box(e.types.trun,a)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();t.default=n},function(e,t,r){e.exports=r(9)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),o=n(i),a=r(12),s=n(a),u=r(31),c=n(u),f=r(0),d=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(e){function t(t,r){var n=e.call(this)||this;return n.tag="flv-player",n.video=t,n.box="flv",n.timer=null,n.seekTimer=null,n.config=(0,f.deepAssign)({},c.default,r),n.requestSetTime=!1,n.throttle=null,n.bindEvents(),n.attachMedia(),n}return d(t,e),t.isSupport=function(){var e=new f.UAParser,t=e.getBrowser();return!("Safari"===t.name&&parseInt(t.major)<10)&&!(!window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.640020,mp4a.40.2"'))},Object.defineProperty(t,"version",{get:function(){return"1.0.0"},enumerable:!0,configurable:!0}),t.prototype.internalPropertyHandle=function(){if(Object.getOwnPropertyDescriptor){var e=this,t=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");Object.defineProperty(this.video,"currentTime",{get:function(){return t.get.call(e.video)},set:function(r){if(e.currentTimeLock)return t.set.call(e.video,r);throw new Error("can not set currentTime by youself")}})}},t.prototype.bindEvents=function(){var e=this;this.video&&this.video.addEventListener("canplay",function(){e.config.isLive&&e.video.play(),e.config.lockInternalProperty&&e.internalPropertyHandle()})},t.prototype.attachMedia=function(){var e=this;this.mediaSource=new o.default(this.video,this.config),this.mediaSource.on("error",function(t){e.emit("error",t.data),e.transmuxer&&e.transmuxer.pause()}),this.mediaSource.on("bufferFull",function(){e.pauseTransmuxer()}),this.mediaSource.on("updateend",function(){e.onmseUpdateEnd()})},t.prototype.load=function(e){e&&(this.config.src=e),this.transmuxer=new s.default(this.mediaSource,this.config,this.globalEvent),this.transmuxerEvent(this.transmuxer),this.transmuxer.loadSource()},t.prototype.transmuxerEvent=function(e){var t=this,r=this.mediaSource;e.on("mediaSegment",function(e){r.emit("mediaSegment",e.data)}),e.on("mediaSegmentInit",function(e){r.emit("mediaSegmentInit",e.data)}),e.on("error",function(n){t.emit("error",n.data),e.pause(),r.pause()}),e.on("end",function(e){r.endOfStream()}),e.on("heartbeat",function(e){t.emit("heartbeat",e.data)}),e.on("mediaInfo",function(e){t.mediaInfo||(t.mediaInfo=e,t.emit("mediaInfo",e.data),r.init(e.data),t.video.src=URL.createObjectURL(r.mediaSource),t.video.addEventListener("seeking",t._throttle.call(t)))})},t.prototype._throttle=function(){return this.throttle=(0,f.throttle)(this._seek.bind(this),200,{leading:!1}),this.throttle},t.prototype.isTimeinBuffered=function(e){for(var t=this.video.buffered,r=0;r<t.length;r++){var n=t.start(r),i=t.end(r);if(e>=n&&e<i)return!0}return!1},t.prototype.getCurrentBufferEnd=function(){for(var e=this.video.buffered,t=this.video.currentTime,r=0;r<e.length;r++){var n=e.start(r),i=e.end(r);if(n<=t&&t<i)return i}},t.prototype._seek=function(e){var t=this;this.currentTimeLock=!0;var r=(0,f.isNumber)(e)&&!isNaN(e)?e:this.video.currentTime;if(this.requestSetTime)return this.requestSetTime=!1,void(this.currentTimeLock=!1);if(this.isTimeinBuffered(r)){if(this.config.alwaysSeekKeyframe){var n=this.transmuxer.getNearestKeyframe(Math.floor(1e3*r));n&&(this.requestSetTime=!0,this.video.currentTime=n.keyframetime/1e3)}}else{f.Log.verbose(this.tag,"do seek"),this.transmuxer.pause();var i=this.transmuxer.getNearestKeyframe(Math.floor(1e3*r));r=i.keyframetime/1e3,this.seekTimer=setTimeout(function(){t.mediaSource.seek(r),t.transmuxer.seek(i)},100),this.requestSetTime=!0,this.video.currentTime=r,window.clearInterval(this.timer),this.timer=null}return this.currentTimeLock=!1,r},t.prototype.onmseUpdateEnd=function(){if(!this.config.isLive){this.getCurrentBufferEnd()>=this.video.currentTime+this.config.lazyLoadMaxDuration&&null===this.timer&&(f.Log.verbose(this.tag,"Maximum buffering duration exceeded, suspend transmuxing task"),this.pauseTransmuxer())}},t.prototype.heartbeat=function(){for(var e=this.video.currentTime,t=this.video.buffered,r=!1,n=0;n<t.length;n++){var i=t.start(n),o=t.end(n);if(e>=i&&e<o){e>=o-this.config.lazyLoadRecoverDuration&&(r=!0);break}}r&&(window.clearInterval(this.timer),this.timer=null,f.Log.verbose(this.tag,"Continue loading from paused position"),this.transmuxer.resume(),this.mediaSource.resume())},t.prototype.pauseTransmuxer=function(){this.transmuxer.pause(),this.mediaSource.pause(),this.timer||(this.timer=setInterval(this.heartbeat.bind(this),1e3))},t.prototype.resume=function(){this._seek(0)},t.prototype.destroy=function(){window.clearInterval(this.timer),window.clearInterval(this.seekTimer),this.video.removeEventListener("seeking",this.throttle),this.video&&(URL.revokeObjectURL(this.video.src),this.video.src="",this.video.removeAttribute("src"),this.transmuxer&&(this.transmuxer.pause(),this.transmuxer.destroy(),this.transmuxer=null),this.mediaSource&&(this.mediaSource.destroy(),this.mediaSource=null))},t.prototype.seek=function(e){return this._seek(e)},t.prototype.play=function(){return this.video.play()},t.prototype.pause=function(){return this.video.pause()},t.prototype.refresh=function(){this.transmuxer&&this.mediaSource?this._seek(0):f.Log.verbose(this.tag,"transmuxer & mediaSource not ready")},t.prototype.stopLoad=function(){this.transmuxer&&this.transmuxer.pause(),this.mediaSource&&this.mediaSource.pause()},t}(f.CustEvent);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),o=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(e){function t(t,r){var n=e.call(this)||this;return n.video=t,n.config=r,n.tag="mse-controller",n.e={onSourceOpen:n.onSourceOpen.bind(n),onSourceEnded:n.onSourceEnded.bind(n),onSourceClose:n.onSourceClose.bind(n),onSourceBufferError:n.onSourceBufferError.bind(n)},n.hasVideo=!0,n.hasAudio=!0,n.removeRangesList={video:[],audio:[]},n.removeBucketing=!1,n.timer={video:null,audio:null},n.queue={video:[],audio:[]},n.sourceBuffer={video:null,audio:null},n.mimeCodec={video:null,audio:null},n.sourceBufferEvent(),n.complete=!1,n}return o(t,e),t.prototype.init=function(e){if(this.mediaSource)return n.Log.Error(this.tag,"MediaSource has been attached to an HTMLMediaElement!"),void this.emit("error",{errno:i.ERRORNO.MEDIASOURCE_ERROR,errmsg:"MediaSource has been attached to an HTMLMediaElement!"});e.hasAudio?this.mimeCodec.audio='audio/mp4; codecs="'+e.audioCodec+'"':this.hasAudio=!1,e.hasVideo?this.mimeCodec.video='video/mp4; codecs="'+e.videoCodec+'"':this.hasVideo=!1;var t=this.mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose)},t.prototype.onSourceOpen=function(){n.Log.verbose(this.tag,"MediaSource onSourceOpen"),this.mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this.hasAudio&&this.addSourceBuffer("audio"),this.hasVideo&&this.addSourceBuffer("video"),this.hasQueueList()&&this.doUpdate(),this.emit("source_open")},t.prototype.addSourceBuffer=function(e){var t=this;this.sourceBuffer[e]=this.mediaSource.addSourceBuffer(this.mimeCodec[e]),n.Log.verbose(this.tag,"add sourcebuffer "+e);var r=this.sourceBuffer[e];r.addEventListener("error",this.e.onSourceBufferError),r.addEventListener("abort",function(){return n.Log.verbose(t.tag,"sourceBuffer: abort")}),r.addEventListener("updateend",function(){t.sourceBuffer&&(t.hasRemoveList()?(t.removeRangesList.video.length&&t.cleanRangesList("video"),t.removeRangesList.audio.length&&t.cleanRangesList("audio")):t.hasQueueList()?t.doUpdate():t.complete&&!t.sourceBuffer[e].updating&&t.endOfStream(),t.emit("updateend"))})},t.prototype.hasRemoveList=function(){return this.removeRangesList.video.length||this.removeRangesList.audio.length},t.prototype.hasQueueList=function(){return this.queue.video.length||this.queue.audio.length},t.prototype.doUpdate=function(){for(var e in this.queue)if(this.queue[e].length>0&&!this.sourceBuffer[e].updating){var t=this.queue[e].shift();this.appendBuffer(t,e)}},t.prototype.sourceBufferEvent=function(){var e=this;this.on("mediaSegment",function(t){var r=t.data,n=r.type;e.needCleanupSourceBuffer(n)&&e.doCleanupSourceBuffer(n),e.queue[n].push(r.data),e.sourceBuffer[n]&&!e.hasRemoveList()&&e.doUpdate()}),this.on("mediaSegmentInit",function(t){var r=t.data,n=r.type;e.queue[n].push(r.data)})},t.prototype.needCleanupSourceBuffer=function(e){var t=this.video.currentTime,r=this.video.buffered;return r.length>=1&&t-r.start(0)>=this.config.autoCleanupMaxBackwardDuration},t.prototype.doCleanupSourceBuffer=function(e){for(var t=this.video.currentTime,r=this.sourceBuffer[e],n=r.buffered,i=!1,o=0;o<n.length;o++){var a=n.start(o),s=n.end(o);if(a<=t&&t<s+3&&t-a>=this.config.autoCleanupMaxBackwardDuration){i=!0;var u=t-this.config.autoCleanupMinBackwardDuration;this.removeRangesList[e].push({start:a,end:u})}}i&&!this.sourceBuffer[e].updating&&this.cleanRangesList(e)},t.prototype.cleanRangesList=function(e){if(!this.sourceBuffer[e].updating)for(var t=this.sourceBuffer[e];this.removeRangesList[e].length&&!t.updating;){var r=this.removeRangesList[e].shift();t.remove(r.start,r.end)}},t.prototype.appendBuffer=function(e,t){if(this.sourceBuffer[t])try{this.sourceBuffer[t].appendBuffer(e.buffer)}catch(r){this.queue[t].unshift(e),22===r.code&&(n.Log.verbose(this.tag,"MediaSource bufferFull"),this.emit("bufferFull"))}},t.prototype.onSourceEnded=function(){n.Log.verbose(this.tag,"MediaSource onSourceEnded")},t.prototype.onSourceClose=function(){n.Log.verbose(this.tag,"MediaSource onSourceClose"),this.mediaSource&&null!==this.e&&(this.mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this.mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this.mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},t.prototype.onSourceBufferError=function(e){this.emit("error",{errnono:i.ERRORNO.SOURCEBUFFER_ERROR,errmsg:e}),n.Log.error(this.tag,"SourceBuffer Error: "+e)},t.prototype.seek=function(){for(var e in this.sourceBuffer){var t=this.sourceBuffer[e];if(t){if("open"===this.mediaSource.readyState)try{t.abort()}catch(e){this.emit("error",{errno:i.ERRORNO.SBABORT_ERROR,errmsg:e}),n.Log.error(this.tag,e.message)}this.queue[e]=[];for(var r=0;r<t.buffered.length;r++){var o=t.buffered.start(r),a=t.buffered.end(r);this.removeRangesList[e].push({start:o,end:a})}t.updating||this.cleanRangesList(e)}}},t.prototype.resume=function(){this.doUpdate()},t.prototype.pause=function(){},t.prototype.endOfStream=function(){if(this.mediaSource){var e=this.mediaSource;this.complete=!0;var t=this.sourceBuffer;if(t.video&&t.video.updating||t.audio&&t.audio.updating)return;if("open"===e.readyState)try{e.endOfStream(),this.complete=!1}catch(e){n.Log.verbose(this.tag,e),this.emit("error",{errno:i.ERRORNO.ENDOFSTREAM_ERROR,errmsg:e})}}},t.prototype.destroy=function(){if(this.mediaSource){var e=this.mediaSource;this.queue={video:[],audio:[]},this.sourceBuffer={video:null,audio:null},this.mimeCodec={video:null,audio:null};var t=this.sourceBuffer;this.complete=!1,this.endOfStream(),t&&("closed"!==e.readyState&&(e.removeSourceBuffer(t),t.removeEventListener("error",this.e.onSourceBufferError),t.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)),this.sourceBuffer=null),e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this.mediaSource=null}},t}(n.CustEvent);t.default=a},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=n(i),a=r(0),s=r(18),u=n(s),c=r(4),f=n(c),d=r(1),l=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(e){function t(t,r,n){var i=e.call(this)||this;return i.config=r||{},i.tag="transmuxer",i.loader=null,i.CPU=null,i.keyframePoint=!1,i.w=null,i.config.webWorker&&(i.w=(0,u.default)(30),i.w.addEventListener("message",function(e){i.parseCallback.call(i,e.data)}),i.w.postMessage({cmd:"init",data:r})),i.lock=0,i}return l(t,e),t.prototype.loadSource=function(){this.config.webWorker?this.w.postMessage({cmd:"loadSource"}):(this.loader=new o.default(this.config),this.loader.arrivalDataCallback=this.arrivalDataCallback.bind(this),this.loader.open(),this.loaderBindEvent(this.loader))},t.prototype.loaderBindEvent=function(e){var t=this;e.on("end",function(){t.emit("end")}),e.on("error",function(e){t.emit("error",e.data)}),e.on("heartbeat",function(e){t.emit("heartbeat",e.data)})},t.prototype.arrivalDataCallback=function(e,t,r){var n=this;return this.CPU||(this.config.isLive?this.config._isLive=!0:this.config._isLive=!1,this.CPU=new f.default(this.config),this.CPU.onInitSegment=this.onRemuxerInitSegmentArrival.bind(this),this.CPU.onMediaSegment=this.onRemuxerMediaSegmentArrival.bind(this),this.CPU.onMediaInfo=this.onMediaInfo.bind(this),this.CPU.on("error",function(e){n.emit("error",{errno:d.ERRORNO.CODEC_ERROR,errmsg:e.data})})),void 0!==r&&this.CPU.seek(r),this.CPU.setflv(e)},t.prototype.parseCallback=function(e){switch(e.cmd){case"mediaSegmentInit":this.emit("mediaSegmentInit",e.source);break;case"mediaSegment":this.emit("mediaSegment",e.source);break;case"mediainfo":this.mediaInfo=e.source,this.emit("mediaInfo",e.source);break;case"error":this.emit("error",e.source)}},t.prototype.onMediaInfo=function(e){this.mediaInfo=e,this.emit("mediaInfo",e)},t.prototype.onRemuxerInitSegmentArrival=function(e,t){this.emit("mediaSegmentInit",{type:"video",data:e}),t&&this.emit("mediaSegmentInit",{type:"audio",data:t})},t.prototype.onRemuxerMediaSegmentArrival=function(e,t){this.emit("mediaSegment",{type:e,data:t})},t.prototype.getMediaInfo=function(){return this.mediaInfo},t.prototype.pause=function(){this.config.webWorker?this.w.postMessage({cmd:"pause"}):this.loader.pause()},t.prototype.resume=function(){this.config.webWorker?this.w.postMessage({cmd:"resume"}):this.loader.resume()},t.prototype.isSeekable=function(){return this.mediaInfo.hasKeyframesIndex},t.prototype.seek=function(e){if(!this.isSeekable())return this.emit("error",{errno:d.ERRORNO.CANNOT_SEEK,errmsg:"这个flv视频不支持seek"}),!1;this.config.webWorker?this.w.postMessage({cmd:"seek",keyframe:e}):this.loader.seek(e.keyframePoint,!1,e.keyframetime)},t.prototype.destroy=function(){this.config.webWorker?this.w.postMessage({cmd:"destroy"}):(this.loader.destroy(),this.loader=null,this.CPU=null)},t.prototype.getNearestKeyframe=function(e){if(this.mediaInfo&&this.mediaInfo.keyframesIndex){var t=this.mediaInfo.keyframesIndex.times,r=this.mediaInfo.keyframesIndex.filepositions;return function e(n,i){var o=n.length,a=Math.floor(o/2);if(1===o){var s=t.indexOf(n[0]);return{keyframetime:n[0],keyframePoint:r[s]}}if(n[a]>i)return e(n.slice(0,a),i);if(n[a]<i)return e(n.slice(a),i);var s=t.indexOf(n[0]);return{keyframetime:n[0],keyframePoint:r[s]}}(t,e)}return 0},t}(a.CustEvent);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(0),a=r(1),s=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(e){function t(t,r){var n=e.call(this)||this;return n.tag="fetch",n.fetching=!1,n.config=r,n.range={from:0,to:524288},n.src=t,n.totalRange=null,n.block=524288,n.reader=null,n.requestAbort=!1,n.arrivalDataCallback=null,n.bytesStart=0,n.heartbeat=null,n}return s(t,e),t.isSupport=function(){return!(!self.fetch||!self.ReadableStream)},t.prototype.open=function(e,t){var r=this;this.requestAbort=!1;var n=new Headers,o=e||{from:0,to:-1};if(!this.config.isLive){this.range.from=o.from,this.range.to=o.to;var s=(0,i.default)(o,this.config);if("string"==typeof s)this.src=this.config.src+s;else for(var u in s)n.append(u,s[u])}t&&(this.bytesStart=0),this.bytesStart=e.from;var c={method:"GET",headers:n,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};fetch(this.src,c).then(function(e){if(e.ok){var n=e.body.getReader();return r.pump(n,t)}}).catch(function(e){r.emit("error",{errno:a.ERRORNO.NET_ERROR,errmsg:e})})},t.prototype.pause=function(){this.requestAbort=!0},t.prototype.pump=function(e,t){var r=this;return e.read().then(function(n){if(!n.done){if(!0===r.requestAbort)return r.requestAbort=!1,e.cancel();var i=n.value.buffer;return r.arrivalDataCallback&&(r.arrivalDataCallback(i,r.bytesStart,t),r.bytesStart+=i.byteLength),r.pump(e)}r.emit("end"),o.Log.verbose(r.tag,"load end")}).catch(function(e){r.emit("error",{errno:a.ERRORNO.NET_ERROR,errmsg:e.message})})},t}(o.CustEvent);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("range"===t.seekType){var r={},n=void 0;return n=-1!==e.to?"bytes="+e.from.toString()+"-"+e.to.toString():"bytes="+e.from.toString()+"-",r.Range=n,r}var n=void 0;return n=-1!==e.to?"?start="+e.from.toString()+"&end="+e.to.toString():"?start="+e.from.toString()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(0),a=r(1),s=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(e){function t(t,r){var n=e.call(this)||this;return n.tag="RangeLoader",n.xhr=null,n.src=t,n.totalLength=null,n.chunkSizeKB=524288,n.range={},n.bytesStart=0,n.needSeek=!1,n.keyframePoint=null,n}return s(t,e),t.isSupport=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return!1}},t.prototype.open=function(e,t){var r=this.xhr=new XMLHttpRequest;r.open("GET",this.src,!0),r.responseType="arraybuffer",r.onreadystatechange=this.onReadyStateChange.bind(this),r.onprogress=this.onProgress.bind(this),r.onload=this.onLoad.bind(this),r.onerror=this.onXhrError.bind(this);var n=e||{from:0,to:-1};this.range.from=n.from,-1===n.to&&(n.to=n.from+this.chunkSizeKB),t&&(this.bytesStart=e.from,this.needSeek=!0,this.keyframePoint=t),this.range.to=n.to;var o=(0,i.default)(n).headers;for(var a in o)r.setRequestHeader(a,o[a]);r.send()},t.prototype.pause=function(){this.abort()},t.prototype.abort=function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.onprogress=null,this.xhr.onload=null,this.xhr.onerror=null,this.xhr.abort(),this.xhr=null)},t.prototype.destroy=function(){this.xhr&&(this.abort(),this.xhr.onreadystatechange=null,this.xhr.onprogress=null,this.xhr.onload=null,this.xhr.onerror=null,this.xhr=null),this.totalLength=null,this.bytesStart=null,this.range={}},t.prototype.onReadyStateChange=function(e){var t=this.xhr;if(2===t.readyState&&t.status<200&&t.status>299){var r={from:this.range.from,to:this.range.to,url:this.src,msg:"http Error: http code "+t.status};this.emit("error",{errno:a.ERRORNO.NET_ERROR,errmsg:r})}},t.prototype.onProgress=function(e){this.totalLength||(this.totalLength=e.total,this.abort(),this.open())},t.prototype.onLoad=function(e){if(this.totalLength&&this.arrivalDataCallback){var t=e.target.response;this.needSeek?(this.needSeek=!1,this.arrivalDataCallback(t,this.bytesStart,this.keyframePoint)):this.arrivalDataCallback(t,this.bytesStart),this.bytesStart+=t.byteLength,this.open({from:this.bytesStart,to:-1})}},t.prototype.onXhrError=function(e){var t={from:this.range.from,to:this.range.to,url:this.src,msg:e.constructor.name+" "+e.type};this.emit("error",{errno:a.ERRORNO.NET_ERROR,errmsg:t})},t}(o.CustEvent);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),o=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(e){function t(t,r){var n=e.call(this)||this;return n.tag="WebSocket",n.src=t,n._ws=null,n._requestAbort=!1,n._receivedLength=0,n}return o(t,e),t.isSupported=function(){try{return void 0!==window.WebSocket}catch(e){return!1}},t.prototype.open=function(e,t){try{var r=this._ws=new self.WebSocket(this.src);r.binaryType="arraybuffer",r.onopen=this.onWebSocketOpen.bind(this),r.onclose=this.onWebSocketClose.bind(this),r.onmessage=this.onWebSocketMessage.bind(this),r.onerror=this.onWebSocketError.bind(this)}catch(e){var n={code:e.code,msg:e.message};this.emit("error",{errno:i.ERRORNO.NET_ERROR,errmsg:n})}},t.prototype.pause=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null},t.prototype.onWebSocketClose=function(e){if(!0===this._requestAbort)return void(this._requestAbort=!1);this.emit("end")},t.prototype.onWebSocketOpen=function(){},t.prototype.onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this.dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var r=new FileReader;r.onload=function(){t.dispatchArrayBuffer(r.result)},r.readAsArrayBuffer(e.data)}else{var n={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};this.emit("error",{errno:i.ERRORNO.NET_ERROR,errmsg:n})}},t.prototype.dispatchArrayBuffer=function(e){var t=e,r=this.receivedLength;this.receivedLength+=t.byteLength,this.arrivalDataCallback&&this.arrivalDataCallback(t,r)},t.prototype.onWebSocketError=function(e){var t={code:e.code,msg:e.message};this.emit("error",{errno:i.ERRORNO.NET_ERROR,errmsg:t})},t}(n.CustEvent);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(0),a=r(1),s=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(e){function t(t,r){var n=e.call(this)||this;return n.tag="mozChunkLoader",n.xhr=null,n.src=t,n.config=r,n.totalLength=null,n.chunkSizeKB=393216,n.range={},n.bytesStart=0,n.keyframePoint=null,n}return s(t,e),t.isSupport=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return!1}},t.prototype.open=function(e,t){var r=this.xhr=new XMLHttpRequest;if(r.open("GET",this.src,!0),r.responseType="moz-chunked-arraybuffer",r.onreadystatechange=this.onReadyStateChange.bind(this),r.onprogress=this.onProgress.bind(this),r.onload=this.onLoadEnd.bind(this),r.onerror=this.onXhrError.bind(this),!this.config.isLive){var n=e||{from:0,to:-1};this.range.from=n.from,this.range.to=n.to,t&&(this.needSeek=!0,this.keyframePoint=t);var o=(0,i.default)(n).headers;for(var a in o)r.setRequestHeader(a,o[a])}r.send()},t.prototype.pause=function(){this.abort()},t.prototype.abort=function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.onprogress=null,this.xhr.onload=null,this.xhr.onerror=null,this.xhr.abort(),this.xhr=null)},t.prototype.destroy=function(){this.xhr&&(this.abort(),this.xhr.onreadystatechange=null,this.xhr.onprogress=null,this.xhr.onload=null,this.xhr.onerror=null,this.xhr=null),this.totalLength=null,this.bytesStart=null,this.range={}},t.prototype.onReadyStateChange=function(e){var t=this.xhr;if(2===t.readyState&&t.status<200&&t.status>299){var r={from:this.range.from,to:this.range.to,url:this.src,msg:"http Error: http code "+t.status};this.emit("error",{errno:a.ERRORNO.NET_ERROR,errmsg:r})}},t.prototype.onProgress=function(e){this.totalLength||(this.totalLength=e.total,null!==e.total&&0!==e.total&&(this.totalLength=e.total));var t=e.target.response;this.needSeek?(this.needSeek=!1,this.arrivalDataCallback(t,this.bytesStart,this.keyframePoint)):this.arrivalDataCallback(t,this.bytesStart),this.bytesStart+=t.byteLength},t.prototype.onLoadEnd=function(e){this.emit(this.tag,"video load end")},t.prototype.onXhrError=function(e){var t={from:this.range.from,to:this.range.to,url:this.src,msg:e.constructor.name+" "+e.type};this.emit("error",{errno:a.ERRORNO.NET_ERROR,errmsg:t})},t}(o.CustEvent);t.default=u},function(e,t,r){function n(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var n=t(t.s=ENTRY_MODULE);return n.default||n}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(e,t,n){var o={};o[n]=[];var a=t.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var f,d=s[1],l=new RegExp("(\\\\n|\\W)"+i(d)+c,"g");f=l.exec(a);)"dll-reference"!==f[3]&&o[n].push(f[3]);for(l=new RegExp("\\("+i(d)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+c,"g");f=l.exec(a);)e[f[2]]||(o[n].push(f[1]),e[f[2]]=r(f[1]).m),o[f[2]]=o[f[2]]||[],o[f[2]].push(f[4]);return o}function a(e){return Object.keys(e).reduce(function(t,r){return t||e[r].length>0},!1)}function s(e,t){for(var r={main:[t]},n={main:[]},i={main:{}};a(r);)for(var s=Object.keys(r),u=0;u<s.length;u++){var c=s[u],f=r[c],d=f.pop();if(i[c]=i[c]||{},!i[c][d]&&e[c][d]){i[c][d]=!0,n[c]=n[c]||[],n[c].push(d);for(var l=o(e,e[c][d],c),h=Object.keys(l),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(l[h[p]])}}return n}var u="[\\.|\\-|\\+|\\w|/|@]+",c="\\((/\\*.*?\\*/)?s?.*?("+u+").*?\\)";e.exports=function(e,t){t=t||{};var i={main:r.m},o=t.all?{main:Object.keys(i)}:s(i,e),a="";Object.keys(o).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;o[e][t];)t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map(function(t){return JSON.stringify(t)+": "+i[e][t].toString()}).join(",")+"});\n"}),a=a+"("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map(function(e){return JSON.stringify(e)+": "+i.main[e].toString()}).join(",")+"})(self);";var u=new window.Blob([a],{type:"text/javascript"});if(t.bare)return u;var c=window.URL||window.webkitURL||window.mozURL||window.msURL,f=c.createObjectURL(u),d=new window.Worker(f);return d.objectURL=f,d}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(20),o=n(i),a=r(5),s=n(a),u=r(6),c=n(u),f=function(){function e(){this.tempUint8=new Uint8Array,this.arrTag=[],this.index=0,this.tempArr=[],this.stop=!1,this.offset=0,this.frist=!0,this._hasAudio=!1,this._hasVideo=!1,this._dispose=!1,this.busy=!1,this.busyArr=[]}return e.prototype.setFlv=function(e){return this.busy=!0,this._dispose=!1,this.stop=!1,this.arrTag=[],this.index=0,this.tempUint8=e,this.tempUint8.length>13&&70==this.tempUint8[0]&&76==this.tempUint8[1]&&86==this.tempUint8[2]?(this.probe(this.tempUint8.buffer),this.read(9),this.read(4),this.parse(),this.frist=!1,this.busy=!1,this.offset):this.frist?this.offset:(this.parse(),this.offset)},e.prototype.probe=function(e){var t=new Uint8Array(e),r={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return r;var n=(4&t[4])>>>2!=0,i=0!=(1&t[4]);return n||i?(this._hasAudio=s.default._hasAudio=n,this._hasVideo=s.default._hasVideo=i,{match:!0,hasAudioTrack:n,hasVideoTrack:i}):r},e.prototype.dispose=function(){},e.prototype.parse=function(){for(;this.index<this.tempUint8.length&&!this.stop;){this.offset=this.index;var e=new o.default;if(this.tempUint8.length-this.index>=11){if(e.tagType=this.read(1)[0],e.dataSize=this.read(3),e.Timestamp=this.read(4),e.StreamID=this.read(3),18!=e.tagType&&8!=e.tagType&&9!=e.tagType)throw new c.default("wrong tagType"+e.tagType);this.tempUint8.length-this.index>=this.getBodySum(e.dataSize)+4?(e.body=this.read(this.getBodySum(e.dataSize)),9==e.tagType&&this._hasVideo&&this.arrTag.push(e),8==e.tagType&&this._hasAudio&&this.arrTag.push(e),18==e.tagType&&0==this.arrTag.length&&this.arrTag.push(e),e.size=this.read(4),this.offset=this.index):this.stop=!0}else this.stop=!0}return this.offset},e.prototype.read=function(e){var t=this.tempUint8.slice(this.index,this.index+e);return this.index+=e,t},e.prototype.getBodySum=function(e){var t="";return t+=1==e[0].toString(16).length?"0"+e[0].toString(16):e[0].toString(16),t+=1==e[1].toString(16).length?"0"+e[1].toString(16):e[1].toString(16),t+=1==e[2].toString(16).length?"0"+e[2].toString(16):e[2].toString(16),parseInt(t,16)},e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.tagType=-1,this.dataSize=-1,this.Timestamp=-1,this.StreamID=-1,this.body=-1,this.time=-1,this.arr=[],this.size=-1}return e.prototype.getTime=function(){this.arr=[];for(var e=0;e<this.Timestamp.length;e++)this.arr.push(1==this.Timestamp[e].toString(16).length?"0"+this.Timestamp[e].toString(16):this.Timestamp[e].toString(16));this.arr.pop();var t=this.arr.join("");return this.time=parseInt(t,16),parseInt(t,16)},e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=null,a=function(){function e(){}return e.parseObject=function(t,r,n){var i=e.parseString(t,r,n),o=e.parseScript(t,r+i.size),a=o.objectEnd;return{data:{name:i.data,value:o.data},size:o.size,objectEnd:a}},e.parseVariable=function(t,r,n){return e.parseObject(t,r,n)},e.parseLongString=function(e,t,r){var n,a=new DataView(e,t),s=a.getUint32(0,!o);return n=s>0?(0,i.default)(new Uint8Array(e,t+4,s)):"",{data:n,size:4+s}},e.parseDate=function(e,t,r){var n=new DataView(e,t),i=n.getFloat64(0,!o);return i+=60*n.getInt16(8,!o)*1e3,{data:new Date(i),size:10}},e.parseString=function(e,t,r){var n,a=new DataView(e,t),s=a.getUint16(0,!o);return n=s>0?(0,i.default)(new Uint8Array(e,t+2,s)):"",{data:n,size:2+s}},e.parseMetadata=function(t){o=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}();var r=e.parseScript(t,0),n=e.parseScript(t,r.size,t.length-r.size),i={};return i[r.data]=n.data,i},e.parseScript=function(t,r,n){var i=r,a=new Uint8Array(t),s=a.buffer,u=new DataView(s,0,n),c=null,f=u.getUint8(i);switch(i+=1,f){case 0:c=u.getFloat64(i,!o),i+=8;break;case 1:c=!!u.getUint8(i),i+=1;break;case 2:var d=e.parseString(s,i);c=d.data,i+=d.size;break;case 3:c={};var l=0;for(9==(16777215&u.getUint32(n-4,!o))&&(l=3);i<n-4;){var h=e.parseObject(s,i,n-r-l);if(h.objectEnd)break;c[h.data.name]=h.data.value,i=h.size}if(i<=n-3){var p=16777215&v.getUint32(i-1,!o);9===p&&(i+=3)}break;case 8:c={},i+=4;var l=0;for(9==(16777215&u.getUint32(n-4,!o))&&(l=3);i<n-8;){var m=e.parseVariable(s,i);if(m.objectEnd)break;c[m.data.name]=m.data.value,i=m.size}if(i<=n-3){var p=16777215&u.getUint32(i-1,!o);9===p&&(i+=3)}break;case 9:c=void 0,i=1,!0;break;case 10:c=[];var g=u.getUint32(i,!o);i+=4;for(var y=0;y<g;y++){var _=e.parseScript(s,i);c.push(_.data),i=_.size}break;case 11:var b=e.parseDate(s,i+1,n-1);c=b.data,i+=b.size;break;case 12:var w=e.parseString(s,i+1,n-1);c=w.data,i+=w.size;break;default:i=n,console.log("AMF","Unsupported AMF value type "+f)}return{data:c,size:i}},e}();t.default=a},function(e,t,r){"use strict";function n(e){for(var t=[],r=e,n=0,o=e.length;n<o;)if(r[n]<128)t.push(String.fromCharCode(r[n])),++n;else{if(r[n]<192);else if(r[n]<224){if(i(r,n,1)){var a=(31&r[n])<<6|63&r[n+1];if(a>=128){t.push(String.fromCharCode(65535&a)),n+=2;continue}}}else if(r[n]<240){if(i(r,n,2)){var a=(15&r[n])<<12|(63&r[n+1])<<6|63&r[n+2];if(a>=2048&&55296!=(63488&a)){t.push(String.fromCharCode(65535&a)),n+=3;continue}}}else if(r[n]<248&&i(r,n,3)){var a=(7&r[n])<<18|(63&r[n+1])<<12|(63&r[n+2])<<6|63&r[n+3];if(a>65536&&a<1114112){a-=65536,t.push(String.fromCharCode(a>>>10|55296)),t.push(String.fromCharCode(1023&a|56320)),n+=4;continue}}t.push(String.fromCharCode(65533)),++n}return t.join("")}function i(e,t,r){var n=e;if(t+r<n.length){for(;r--;)if(128!=(192&n[++t]))return!1;return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,r=t.byteLength,n=new Uint8Array(r),i=0,o=0;o<r;o++)o>=2&&3===t[o]&&0===t[o-1]&&0===t[o-2]||(n[i]=t[o],i++);return new Uint8Array(n.buffer,0,i)},e.parseSPS=function(t){var r=e._ebsp2rbsp(t),n=new i.default(r);n.readByte();var o=n.readByte();n.readByte();var a=n.readByte();n.readUEG();var s=e.getProfileString(o),u=e.getLevelString(a),c=1,f=420,d=[0,420,422,444],l=8;if((100===o||110===o||122===o||244===o||44===o||83===o||86===o||118===o||128===o||138===o||144===o)&&(c=n.readUEG(),3===c&&n.readBits(1),c<=3&&(f=d[c]),l=n.readUEG()+8,n.readUEG(),n.readBits(1),n.readBool()))for(var h=3!==c?8:12,p=0;p<h;p++)n.readBool()&&(p<6?e._skipScalingList(n,16):e._skipScalingList(n,64));n.readUEG();var m=n.readUEG();if(0===m)n.readUEG();else if(1===m){n.readBits(1),n.readSEG(),n.readSEG();for(var v=n.readUEG(),p=0;p<v;p++)n.readSEG()}n.readUEG(),n.readBits(1);var g=n.readUEG(),y=n.readUEG(),_=n.readBits(1);0===_&&n.readBits(1),n.readBits(1);var b=0,w=0,S=0,E=0;n.readBool()&&(b=n.readUEG(),w=n.readUEG(),S=n.readUEG(),E=n.readUEG());var x=1,A=1,k=0,O=!0,R=0,M=0;if(n.readBool()){if(n.readBool()){var L=n.readByte(),T=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],B=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];L>0&&L<16?(x=T[L-1],A=B[L-1]):255===L&&(x=n.readByte()<<8|n.readByte(),A=n.readByte()<<8|n.readByte())}if(n.readBool()&&n.readBool(),n.readBool()&&(n.readBits(4),n.readBool()&&n.readBits(24)),n.readBool()&&(n.readUEG(),n.readUEG()),n.readBool()){var C=n.readBits(32),D=n.readBits(32);O=n.readBool(),R=D,M=2*C,k=R/M}}var I=1;1===x&&1===A||(I=x/A);var P=0,j=0;if(0===c)P=1,j=2-_;else{var U=3===c?1:2,N=1===c?2:1;P=U,j=N*(2-_)}var F=16*(g+1),z=16*(y+1)*(2-_);F-=(b+w)*P,z-=(S+E)*j;var V=Math.ceil(F*I);return n.destroy(),n=null,{profile_string:s,level_string:u,bit_depth:l,chroma_format:f,chroma_format_string:e.getChromaFormatString(f),frame_rate:{fixed:O,fps:k,fps_den:M,fps_num:R},sar_ratio:{width:x,height:A},codec_size:{width:F,height:z},present_size:{width:V,height:z}}},e._skipScalingList=function(e,t){for(var r=8,n=8,i=0,o=0;o<t;o++)0!==n&&(i=e.readSEG(),n=(r+i+256)%256),r=0===n?r:n},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.TAG=this.constructor.name,this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),r=new Uint8Array(4);r.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(r.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var r=this._current_word_bits_left?this._current_word:0;r>>>=32-this._current_word_bits_left;var n=e-this._current_word_bits_left;this._fillCurrentWord();var i=Math.min(n,this._current_word_bits_left),o=this._current_word>>>32-i;return this._current_word<<=i,this._current_word_bits_left-=i,r=r<<i|o},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}();t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(27),o=n(i),a=r(28),s=n(a),u=r(7),c=n(u),f=r(29),d=function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new f.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new f.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!s.default.chrome||!(s.default.version.major<50||50===s.default.version.major&&s.default.version.build<2661)),this._fillSilentAfterSeek=s.default.msedge||s.default.msie,this._mp3UseMpegAudio=!s.default.firefox}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!0,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var r=null,n="mp4",i=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(n="mpeg",i="",r=new Uint8Array):r=c.default.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,r=c.default.generateInitSegment(t)}if(!this._onInitSegment)throw new IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:r.buffer,codec:i,container:e+"/"+n,mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype._remuxAudio=function(e){if(null!=this._audioMeta){var t=e,r=t.samples,n=void 0,i=-1,a=-1,s=this._audioMeta.refSampleDuration,u="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,d=this._dtsBaseInited&&void 0===this._audioNextDts,l=!1;if(r&&!(r.length<=1)){var h=0,p=null,m=0;u?(h=0,m=t.length):(h=8,m=8+t.length);var v=r[0].dts-this._dtsBase;if(this._audioNextDts)n=v-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())n=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(l=!0);else{var g=this._audioSegmentInfoList.getLastSampleBefore(v);if(null!=g){var y=v-(g.originalDts+g.duration);y<=3&&(y=0);var _=g.dts+g.duration+y;n=v-_}else n=0}if(l){var b=v-n,w=this._videoSegmentInfoList.getLastSegmentBefore(v);if(null!=w&&w.beginDts<b){var S=o.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(S){var E=w.beginDts,x=b-w.beginDts;Log.v(this.TAG,"InsertPrefixSilentAudio: dts: "+E+", duration: "+x),r.unshift({unit:S,dts:E,pts:E}),m+=S.byteLength}}else l=!1}var A=[];n=0;for(var k=0;k+1<r.length;k++){var O=r[k],R=O.unit,M=O.dts-this._dtsBase,E=M-n;-1===i&&(i=E);var L=0;if(k!==r.length-1){L=r[k+1].dts-this._dtsBase-n-E}else L=A.length>=1?A[A.length-1].duration:Math.floor(s);A.push({dts:E,pts:E,cts:0,unit:O.unit,size:O.unit.byteLength,duration:L,originalDts:M,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}})}if(u)p=new Uint8Array(m);else{for(var T=8,k=0;k<A.length;++k)T+=A[k].size;p=new Uint8Array(T),p[0]=T>>>24&255,p[1]=T>>>16&255,p[2]=T>>>8&255,p[3]=255&T,p.set(c.default.types.mdat,4)}for(var k=0;k<A.length;k++){var R=A[k].unit;p.set(R,h),h+=R.byteLength}var B=A[A.length-1];a=B.dts+B.duration,this._audioNextDts=a;var C=new f.MediaSegmentInfo;C.beginDts=i,C.endDts=a,C.beginPts=i,C.endPts=a,C.originalBeginDts=A[0].originalDts,C.originalEndDts=B.originalDts+B.duration,C.firstSample=new f.SampleInfo(A[0].dts,A[0].pts,A[0].duration,A[0].originalDts,!1),C.lastSample=new f.SampleInfo(B.dts,B.pts,B.duration,B.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(C),t.samples=A,t.sequenceNumber++;var D=null;D=u?new Uint8Array:c.default.moof(t,i),t.samples=[r[r.length-1]],t.length=0;var I={type:"audio",data:this._mergeBoxes(D,p).buffer,sampleCount:A.length,info:C};u&&d&&(I.timestampOffset=i),this._onMediaSegment("audio",I)}}},e.prototype._remuxVideo=function(e){if(null!=this._videoMeta){var t=e,r=t.samples,n=void 0,i=-1,o=-1,a=-1,s=-1;if(r&&!(r.length<=1)){var u=r[0].dts-this._dtsBase;if(this._videoNextDts)n=Math.max(u-this._videoNextDts,0);else if(this._videoSegmentInfoList.isEmpty())n=0;else{var d=this._videoSegmentInfoList.getLastSampleBefore(u);if(null!=d){var l=u-(d.originalDts+d.duration);l<=3&&(l=0);var h=d.dts+d.duration+l;n=u-h}else n=0}var p=new f.MediaSegmentInfo,m=[],v=n;n=0;for(var g=0;g+1<r.length;g++){var y=r[g],_=y.dts-this._dtsBase-(0==g?v:0),b=y.isKeyframe,w=_-n,S=y.cts,E=w+S;-1===i&&(i=w,a=E);var x=0;if(g!==r.length-1){x=r[g+1].dts-this._dtsBase-n-w}else x=m.length>=1?m[m.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(b){var A=new f.SampleInfo(w,E,x,y.dts,!0);A.fileposition=y.fileposition,p.appendSyncPoint(A)}m.push({dts:w,pts:E,cts:S,units:y.units,size:y.length,isKeyframe:b,duration:x,originalDts:_,flags:{isLeading:0,dependsOn:b?2:1,isDependedOn:b?1:0,hasRedundancy:0,isNonSync:b?0:1}})}for(var k=8,O=8,g=0;g<m.length;++g)O+=m[g].size;var R=new Uint8Array(O);R[0]=O>>>24&255,R[1]=O>>>16&255,R[2]=O>>>8&255,R[3]=255&O,R.set(c.default.types.mdat,4);for(var g=0;g<m.length;g++)for(var M=m[g].units;M.length;){var L=M.shift(),T=L.data;R.set(T,k),k+=T.byteLength}var B=m[m.length-1];if(o=B.dts+B.duration,s=B.pts+B.duration,this._videoNextDts=o,p.beginDts=i,p.endDts=o,p.beginPts=a,p.endPts=s,p.originalBeginDts=m[0].originalDts,p.originalEndDts=B.originalDts+B.duration,p.firstSample=new f.SampleInfo(m[0].dts,m[0].pts,m[0].duration,m[0].originalDts,m[0].isKeyframe),p.lastSample=new f.SampleInfo(B.dts,B.pts,B.duration,B.originalDts,B.isKeyframe),this._isLive||this._videoSegmentInfoList.append(p),t.samples=m,t.sequenceNumber++,this._forceFirstIDR){var C=m[0].flags;C.dependsOn=2,C.isNonSync=0}var D=c.default.moof(t,i);t.samples=[r[r.length-1]],t.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(D,R).buffer,sampleCount:m.length,info:p})}}},e.prototype._mergeBoxes=function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r},e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.getSilentFrame=function(e){return 1===e?new Uint8Array([0,200,0,128,35,128]):2===e?new Uint8Array([33,0,73,144,2,25,0,35,128]):3===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):4===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):5===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):6===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):null},e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],i={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:r[0]||""},o={};if(i.browser){o[i.browser]=!0;var a=i.majorVersion.split(".");o.version={major:parseInt(i.majorVersion,10),string:i.version},a.length>1&&(o.version.minor=parseInt(a[1],10)),a.length>2&&(o.version.build=parseInt(a[2],10))}i.platform&&(o[i.platform]=!0),(o.chrome||o.opr||o.safari)&&(o.webkit=!0),(o.rv||o.iemobile)&&(o.rv&&delete o.rv,i.browser="msie",o.msie=!0),o.edge&&(delete o.edge,i.browser="msedge",o.msedge=!0),o.opr&&(i.browser="opera",o.opera=!0),o.safari&&o.android&&(i.browser="android",o.android=!0),o.name=i.browser,o.platform=i.platform;for(var s in n)n.hasOwnProperty(s)&&delete n[s];n=o}(),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){this.dts=e,this.pts=t,this.duration=r,this.originalDts=n,this.isSyncPoint=i,this.fileposition=null}return e}();t.SampleInfo=n;var i=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}();t.MediaSegmentInfo=i;var o=function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,r=0,n=t.length-1,i=0,o=0,a=n;for(e<t[0].dts&&(r=0,o=a+1);o<=a;){if((i=o+Math.floor((a-o)/2))===n||e>=t[i].dts&&e<t[i+1].dts){r=i;break}t[i].dts<e?o=i+1:a=i-1}return this._list[r]},e}();t.IDRSampleList=o;var a=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var r=t.length-1,n=0,i=0,o=r,a=0;if(e<t[0].originalBeginDts)return a=-1;for(;i<=o;){if((n=i+Math.floor((o-i)/2))===r||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){a=n;break}t[n].originalBeginDts<e?i=n+1:o=n-1}return a},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,r=e,n=this._lastAppendLocation,i=0;-1!==n&&n<t.length&&r.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&r.originalBeginDts<t[n+1].originalBeginDts)?i=n+1:t.length>0&&(i=this._searchNearestSegmentBefore(r.originalBeginDts)+1),this._lastAppendLocation=i,this._list.splice(i,0,r)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),r=this._list[t].syncPoints;0===r.length&&t>0;)t--,r=this._list[t].syncPoints;return r.length>0?r[r.length-1]:null},e}();t.MediaSegmentInfoList=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){d=new o.default,d.onInitSegment=r,d.onMediaSegment=n,d.onError=i,d.onMediaInfo=a,d.on("error",function(e){self.postMessage({cmd:"error",source:e.data})})}function r(e,t){self.postMessage({cmd:"mediaSegmentInit",source:{type:"video",data:e}}),t&&self.postMessage({cmd:"mediaSegmentInit",source:{type:"audio",data:t}})}function n(e,t){self.postMessage({cmd:"mediaSegment",source:{type:e,data:t}})}function i(e){self.postMessage({cmd:"error",source:e})}function a(e){self.postMessage({cmd:"mediainfo",source:e})}function u(e){l.pause(),l=new s.default(h),l.arrivalDataCallback=f,l.seek(e.keyframePoint,!1,e.keyframetime)}function c(){l.destroy(),l=null,d=null}function f(e,r,n){return d||t(),n&&d.seek(n),d.setflv(e)}var d=null,l=null,h={};e.addEventListener("message",function(e){switch(e.data.cmd){case"init":h=e.data.data;break;case"loadSource":l=new s.default(h),l.arrivalDataCallback=f,l.open();break;case"pause":l.pause();break;case"seek":u(e.data.keyframe);break;case"resume":l.resume();break;case"destroy":c()}})};var i=r(4),o=n(i),a=r(2),s=n(a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isLive:!1,box:"flv",seekInKeyframe:!0,alwaysSeekKeyframe:!0,lazyLoadMaxDuration:120,lazyLoadRecoverDuration:30,lockInternalProperty:!1,debug:!0,webWorker:!1,autoCleanupSourceBuffer:!0,autoCleanupMaxBackwardDuration:30,autoCleanupMinBackwardDuration:30,stashSize:393216,seekType:"range"}}]).default});